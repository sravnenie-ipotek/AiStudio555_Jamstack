-- Local Database Export for Railway PostgreSQL
-- Generated: 2025-09-25 09:03:10.390295

BEGIN;

-- Table: home_pages
DROP TABLE IF EXISTS home_pages CASCADE;
CREATE TABLE home_pages (
                id SERIAL PRIMARY KEY ,
                locale TEXT DEFAULT 'en',
                title TEXT,
                heroTitle TEXT,
                heroSubtitle TEXT,
                heroDescription TEXT,
                heroSectionVisible BOOLEAN,
                featuredCoursesTitle TEXT,
                featuredCoursesDescription TEXT,
                featuredCoursesVisible BOOLEAN,
                aboutTitle TEXT,
                aboutSubtitle TEXT,
                aboutDescription TEXT,
                aboutVisible BOOLEAN,
                companiesTitle TEXT,
                companiesDescription TEXT,
                companiesVisible BOOLEAN,
                testimonialsTitle TEXT,
                testimonialsSubtitle TEXT,
                testimonialsVisible BOOLEAN,
                courses TEXT,
                testimonials TEXT,
                published_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            );


-- Table: courses
DROP TABLE IF EXISTS courses CASCADE;
CREATE TABLE courses (
                id SERIAL PRIMARY KEY ,
                locale TEXT DEFAULT 'en',
                title TEXT NOT NULL,
                description TEXT,
                price DECIMAL(10,2),
                duration TEXT,
                lessons TEXT,
                category TEXT,
                rating DECIMAL(3,1),
                visible BOOLEAN DEFAULT true,
                published_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            );

INSERT INTO courses (id, locale, title, description, price, duration, lessons, category, rating, visible, published_at, created_at, updated_at) VALUES (1, 'en', 'Web Development Bootcamp', 'Full-stack development with modern technologies', 499, '16 Weeks', '45 Lessons', 'Web Dev', 4.7, 1, '2025-09-11T10:32:05.875Z', '2025-09-11 10:32:05', '2025-09-11 10:32:05');
INSERT INTO courses (id, locale, title, description, price, duration, lessons, category, rating, visible, published_at, created_at, updated_at) VALUES (2, 'en', 'Data Science Fundamentals', 'Complete guide to data analysis and visualization', 399, '12 Weeks', '28 Lessons', 'Data Science', 4.9, 1, '2025-09-11T10:32:05.876Z', '2025-09-11 10:32:05', '2025-09-11 10:32:05');
INSERT INTO courses (id, locale, title, description, price, duration, lessons, category, rating, visible, published_at, created_at, updated_at) VALUES (3, 'en', 'Advanced Python Programming', 'Master Python for data science and web development', 249, '10 Weeks', '32 Lessons', 'Programming', 4.8, 1, '2025-09-11T10:32:05.876Z', '2025-09-11 10:32:05', '2025-09-11 10:32:05');
INSERT INTO courses (id, locale, title, description, price, duration, lessons, category, rating, visible, published_at, created_at, updated_at) VALUES (4, 'en', 'Introduction to Machine Learning', 'Learn the fundamentals of ML algorithms and applications', 299, '8 Weeks', '24 Lessons', 'AI & ML', 4.9, 1, '2025-09-11T10:32:05.876Z', '2025-09-11 10:32:05', '2025-09-11 10:32:05');

-- Table: teachers
DROP TABLE IF EXISTS teachers CASCADE;
CREATE TABLE teachers (
    id SERIAL PRIMARY KEY ,
    name TEXT NOT NULL,
    title TEXT,
    bio TEXT,
    image_url TEXT,
    expertise TEXT,
    locale TEXT DEFAULT 'en',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    published_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO teachers (id, name, title, bio, image_url, expertise, locale, created_at, updated_at, published_at) VALUES (1, 'Dr. Sarah Johnson', 'Lead AI Instructor', 'Expert in Machine Learning and Neural Networks with 10+ years experience', '/images/teacher1.jpg', 'Machine Learning, Deep Learning', 'en', '2025-09-11 15:16:32', '2025-09-11 15:16:32', '2025-09-11 15:16:32');
INSERT INTO teachers (id, name, title, bio, image_url, expertise, locale, created_at, updated_at, published_at) VALUES (2, 'Prof. Michael Chen', 'Data Science Professor', 'Published researcher in AI applications and data analytics', '/images/teacher2.jpg', 'Data Science, Statistics', 'en', '2025-09-11 15:16:32', '2025-09-11 15:16:32', '2025-09-11 15:16:32');
INSERT INTO teachers (id, name, title, bio, image_url, expertise, locale, created_at, updated_at, published_at) VALUES (3, 'Elena Rodriguez', 'AI Ethics Specialist', 'Focuses on responsible AI development and ethical implications', '/images/teacher3.jpg', 'AI Ethics, Policy', 'en', '2025-09-11 15:16:32', '2025-09-11 15:16:32', '2025-09-11 15:16:32');

-- Table: blog_posts
DROP TABLE IF EXISTS blog_posts CASCADE;
CREATE TABLE blog_posts (
    id SERIAL PRIMARY KEY ,
    title TEXT NOT NULL,
    content TEXT,
    excerpt TEXT,
    image_url TEXT,
    author TEXT,
    locale TEXT DEFAULT 'en',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    published_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO blog_posts (id, title, content, excerpt, image_url, author, locale, created_at, updated_at, published_at) VALUES (1, 'Getting Started with Machine Learning', 'Machine learning is transforming industries...', 'Learn the basics of ML', NULL, 'Dr. Sarah Johnson', 'en', '2025-09-11 15:16:32', '2025-09-11 15:16:32', '2025-09-11 15:16:32');
INSERT INTO blog_posts (id, title, content, excerpt, image_url, author, locale, created_at, updated_at, published_at) VALUES (2, 'AI in Healthcare: Future Trends', 'Artificial Intelligence is revolutionizing healthcare...', 'Explore AI healthcare applications', NULL, 'Prof. Michael Chen', 'en', '2025-09-11 15:16:32', '2025-09-11 15:16:32', '2025-09-11 15:16:32');
INSERT INTO blog_posts (id, title, content, excerpt, image_url, author, locale, created_at, updated_at, published_at) VALUES (3, 'Ethics in AI Development', 'As AI becomes more prevalent, ethical considerations...', 'Understanding AI ethics', NULL, 'Elena Rodriguez', 'en', '2025-09-11 15:16:32', '2025-09-11 15:16:32', '2025-09-11 15:16:32');

-- Table: about_pages
DROP TABLE IF EXISTS about_pages CASCADE;
CREATE TABLE about_pages (id SERIAL PRIMARY KEY , title TEXT NOT NULL, content TEXT, mission TEXT, vision TEXT, company_values TEXT, locale TEXT DEFAULT 'en', created_at DATETIME DEFAULT CURRENT_TIMESTAMP, updated_at DATETIME DEFAULT CURRENT_TIMESTAMP, published_at DATETIME DEFAULT CURRENT_TIMESTAMP);

INSERT INTO about_pages (id, title, content, mission, vision, company_values, locale, created_at, updated_at, published_at) VALUES (1, 'About AI Studio', 'AI Studio is a leading institution in artificial intelligence education...', 'To democratize AI education worldwide', 'A world where everyone can understand and utilize AI', 'Innovation, Excellence, Accessibility', 'en', '2025-09-11 15:16:45', '2025-09-11 15:16:45', '2025-09-11 15:16:45');

-- Table: contact_pages
DROP TABLE IF EXISTS contact_pages CASCADE;
CREATE TABLE contact_pages (id SERIAL PRIMARY KEY , title TEXT NOT NULL, address TEXT, phone TEXT, email TEXT, office_hours TEXT, locale TEXT DEFAULT 'en', created_at DATETIME DEFAULT CURRENT_TIMESTAMP, updated_at DATETIME DEFAULT CURRENT_TIMESTAMP);

INSERT INTO contact_pages (id, title, address, phone, email, office_hours, locale, created_at, updated_at) VALUES (1, 'Contact Us', '123 AI Street, Tech City, TC 12345', '+1-555-0123', 'info@aistudio.com', 'Mon-Fri 9AM-6PM PST', 'en', '2025-09-11 15:16:45', '2025-09-11 15:16:45');

-- Table: faqs
DROP TABLE IF EXISTS faqs CASCADE;
CREATE TABLE faqs (id SERIAL PRIMARY KEY , question TEXT NOT NULL, answer TEXT NOT NULL, category TEXT, order_index INTEGER DEFAULT 0, locale TEXT DEFAULT 'en', created_at DATETIME DEFAULT CURRENT_TIMESTAMP, updated_at DATETIME DEFAULT CURRENT_TIMESTAMP, published_at DATETIME DEFAULT CURRENT_TIMESTAMP);

INSERT INTO faqs (id, question, answer, category, order_index, locale, created_at, updated_at, published_at) VALUES (1, 'How long are the courses?', 'Our courses range from 4-12 weeks depending on the complexity', 'General', 0, 'en', '2025-09-11 15:16:45', '2025-09-11 15:16:45', '2025-09-11 15:16:45');
INSERT INTO faqs (id, question, answer, category, order_index, locale, created_at, updated_at, published_at) VALUES (2, 'Do I need programming experience?', 'No prior programming experience is required for beginner courses', 'Prerequisites', 0, 'en', '2025-09-11 15:16:45', '2025-09-11 15:16:45', '2025-09-11 15:16:45');
INSERT INTO faqs (id, question, answer, category, order_index, locale, created_at, updated_at, published_at) VALUES (3, 'What career support do you offer?', 'We provide career counseling, resume reviews, and job placement assistance', 'Career', 0, 'en', '2025-09-11 15:16:45', '2025-09-11 15:16:45', '2025-09-11 15:16:45');

-- Table: career_resources
DROP TABLE IF EXISTS career_resources CASCADE;
CREATE TABLE career_resources (id SERIAL PRIMARY KEY , title TEXT NOT NULL, description TEXT, resource_type TEXT, resource_url TEXT, locale TEXT DEFAULT 'en', created_at DATETIME DEFAULT CURRENT_TIMESTAMP, updated_at DATETIME DEFAULT CURRENT_TIMESTAMP, published_at DATETIME DEFAULT CURRENT_TIMESTAMP);

INSERT INTO career_resources (id, title, description, resource_type, resource_url, locale, created_at, updated_at, published_at) VALUES (1, 'AI Career Guide', 'Comprehensive guide to careers in artificial intelligence', 'PDF', '/resources/ai-career-guide.pdf', 'en', '2025-09-11 15:17:01', '2025-09-11 15:17:01', '2025-09-11 15:17:01');
INSERT INTO career_resources (id, title, description, resource_type, resource_url, locale, created_at, updated_at, published_at) VALUES (2, 'Resume Template for AI Jobs', 'Optimized resume template for AI/ML positions', 'Template', '/resources/ai-resume-template.docx', 'en', '2025-09-11 15:17:01', '2025-09-11 15:17:01', '2025-09-11 15:17:01');
INSERT INTO career_resources (id, title, description, resource_type, resource_url, locale, created_at, updated_at, published_at) VALUES (3, 'Interview Preparation Kit', 'Common AI interview questions and answers', 'Guide', '/resources/ai-interview-prep.pdf', 'en', '2025-09-11 15:17:01', '2025-09-11 15:17:01', '2025-09-11 15:17:01');

-- Table: career_center_pages
DROP TABLE IF EXISTS career_center_pages CASCADE;
CREATE TABLE career_center_pages (id SERIAL PRIMARY KEY , title TEXT NOT NULL, content TEXT, services TEXT, programs TEXT, success_stories TEXT, locale TEXT DEFAULT 'en', created_at DATETIME DEFAULT CURRENT_TIMESTAMP, updated_at DATETIME DEFAULT CURRENT_TIMESTAMP, published_at DATETIME DEFAULT CURRENT_TIMESTAMP);

INSERT INTO career_center_pages (id, title, content, services, programs, success_stories, locale, created_at, updated_at, published_at) VALUES (1, 'Career Center', 'Your gateway to AI career success', 'Career counseling, Job placement, Resume review', 'Internship program, Mentorship, Alumni network', NULL, 'en', '2025-09-11 15:17:01', '2025-09-11 15:17:01', '2025-09-11 15:17:01');

-- Table: career_orientation_pages
DROP TABLE IF EXISTS career_orientation_pages CASCADE;
CREATE TABLE career_orientation_pages (id SERIAL PRIMARY KEY , title TEXT NOT NULL, content TEXT, guidance_sections TEXT, assessment_tools TEXT, career_paths TEXT, locale TEXT DEFAULT 'en', created_at DATETIME DEFAULT CURRENT_TIMESTAMP, updated_at DATETIME DEFAULT CURRENT_TIMESTAMP, published_at DATETIME DEFAULT CURRENT_TIMESTAMP);

INSERT INTO career_orientation_pages (id, title, content, guidance_sections, assessment_tools, career_paths, locale, created_at, updated_at, published_at) VALUES (1, 'Career Orientation', 'Discover your path in AI', 'Self-assessment, Skills evaluation, Goal setting', NULL, 'Machine Learning Engineer, Data Scientist, AI Researcher, Product Manager', 'en', '2025-09-11 15:17:01', '2025-09-11 15:17:01', '2025-09-11 15:17:01');

-- Table: pricing_plans
DROP TABLE IF EXISTS pricing_plans CASCADE;
CREATE TABLE pricing_plans (id SERIAL PRIMARY KEY , name TEXT NOT NULL, price DECIMAL(10,2), currency TEXT DEFAULT 'USD', features TEXT, recommended BOOLEAN DEFAULT 0, locale TEXT DEFAULT 'en', created_at DATETIME DEFAULT CURRENT_TIMESTAMP, updated_at DATETIME DEFAULT CURRENT_TIMESTAMP);

INSERT INTO pricing_plans (id, name, price, currency, features, recommended, locale, created_at, updated_at) VALUES (1, 'Basic', 99.99, 'USD', 'Access to fundamental courses, Community support', 0, 'en', '2025-09-11 15:17:01', '2025-09-11 15:17:01');
INSERT INTO pricing_plans (id, name, price, currency, features, recommended, locale, created_at, updated_at) VALUES (2, 'Professional', 199.99, 'USD', 'All courses, 1-on-1 mentoring, Career support', 1, 'en', '2025-09-11 15:17:01', '2025-09-11 15:17:01');
INSERT INTO pricing_plans (id, name, price, currency, features, recommended, locale, created_at, updated_at) VALUES (3, 'Enterprise', 499.99, 'USD', 'Everything + Custom training, Priority support', 0, 'en', '2025-09-11 15:17:01', '2025-09-11 15:17:01');

-- Table: job_postings
DROP TABLE IF EXISTS job_postings CASCADE;
CREATE TABLE job_postings (id SERIAL PRIMARY KEY , title TEXT NOT NULL, company TEXT, description TEXT, requirements TEXT, location TEXT, salary_range TEXT, application_url TEXT, locale TEXT DEFAULT 'en', created_at DATETIME DEFAULT CURRENT_TIMESTAMP, updated_at DATETIME DEFAULT CURRENT_TIMESTAMP, published_at DATETIME DEFAULT CURRENT_TIMESTAMP);

INSERT INTO job_postings (id, title, company, description, requirements, location, salary_range, application_url, locale, created_at, updated_at, published_at) VALUES (1, 'Machine Learning Engineer', 'TechCorp', 'Join our AI team to build next-gen ML systems', 'Python, TensorFlow, 3+ years experience', 'San Francisco, CA', 'k-180k', NULL, 'en', '2025-09-11 15:17:01', '2025-09-11 15:17:01', '2025-09-11 15:17:01');
INSERT INTO job_postings (id, title, company, description, requirements, location, salary_range, application_url, locale, created_at, updated_at, published_at) VALUES (2, 'Data Scientist', 'DataInc', 'Analyze complex datasets and build predictive models', 'Python, R, Statistics, SQL', 'Remote', 'k-150k', NULL, 'en', '2025-09-11 15:17:01', '2025-09-11 15:17:01', '2025-09-11 15:17:01');
INSERT INTO job_postings (id, title, company, description, requirements, location, salary_range, application_url, locale, created_at, updated_at, published_at) VALUES (3, 'AI Research Scientist', 'InnovateAI', 'Research and develop cutting-edge AI algorithms', 'PhD in AI/ML, Publications, Research experience', 'New York, NY', 'k-250k', NULL, 'en', '2025-09-11 15:17:01', '2025-09-11 15:17:01', '2025-09-11 15:17:01');

-- Table: footer_content
DROP TABLE IF EXISTS footer_content CASCADE;
CREATE TABLE footer_content (
    id SERIAL PRIMARY KEY ,
    locale VARCHAR(5) NOT NULL DEFAULT 'en',
    
    -- Company Information
    company_name VARCHAR(255) DEFAULT 'AI Studio',
    company_description TEXT DEFAULT 'Elevate tech career with expert-led courses. If you''re just aiming to advance skills, practical training is designed.',
    company_logo_url VARCHAR(500) DEFAULT '/images/Logo.svg',
    company_tagline VARCHAR(255),
    
    -- Contact Information  
    contact_email VARCHAR(255) DEFAULT 'contact@aistudio555.com',
    contact_phone VARCHAR(50),
    contact_address TEXT,
    support_email VARCHAR(255) DEFAULT 'support@aistudio555.com',
    sales_email VARCHAR(255) DEFAULT 'sales@aistudio555.com',
    
    -- Copyright & Legal
    copyright_text TEXT DEFAULT '© 2024 AI Studio. All rights reserved.',
    privacy_policy_url VARCHAR(500) DEFAULT '/privacy-policy',
    terms_of_service_url VARCHAR(500) DEFAULT '/terms-of-service',
    cookie_policy_url VARCHAR(500) DEFAULT '/cookie-policy',
    
    -- Newsletter Configuration
    newsletter_enabled BOOLEAN DEFAULT 1,
    newsletter_title VARCHAR(255) DEFAULT 'Subscribe to Newsletter',
    newsletter_subtitle TEXT DEFAULT 'Get the latest courses and updates delivered to your inbox',
    newsletter_placeholder VARCHAR(255) DEFAULT 'Enter email to subscribe',
    newsletter_button_text VARCHAR(100) DEFAULT 'Subscribe',
    newsletter_success_message TEXT DEFAULT 'Thank you for subscribing!',
    newsletter_error_message TEXT DEFAULT 'Something went wrong. Please try again.',
    
    -- Feature Flags
    show_social_links BOOLEAN DEFAULT 1,
    show_newsletter BOOLEAN DEFAULT 1,
    show_contact_info BOOLEAN DEFAULT 1,
    show_navigation BOOLEAN DEFAULT 1,
    show_company_info BOOLEAN DEFAULT 1,
    
    -- Metadata
    version INTEGER DEFAULT 1,
    published BOOLEAN DEFAULT 1,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    created_by VARCHAR(100),
    updated_by VARCHAR(100),
    
    -- SQLite constraints
    CONSTRAINT chk_valid_locale CHECK (locale IN ('en', 'ru', 'he')),
    CONSTRAINT chk_contact_email_valid CHECK (
        contact_email IS NULL OR 
        contact_email LIKE '%@%.%' AND 
        LENGTH(contact_email) <= 255 AND
        contact_email NOT LIKE '%@localhost%' AND
        contact_email NOT LIKE '%@example.%' AND
        contact_email NOT LIKE '%.local' AND
        contact_email NOT LIKE '%@test%'
    ),
    CONSTRAINT chk_support_email_valid CHECK (
        support_email IS NULL OR 
        support_email LIKE '%@%.%' AND 
        LENGTH(support_email) <= 255 AND
        support_email NOT LIKE '%@localhost%' AND
        support_email NOT LIKE '%@example.%'
    ),
    CONSTRAINT chk_sales_email_valid CHECK (
        sales_email IS NULL OR 
        sales_email LIKE '%@%.%' AND 
        LENGTH(sales_email) <= 255 AND
        sales_email NOT LIKE '%@localhost%' AND
        sales_email NOT LIKE '%@example.%'
    ),
    CONSTRAINT chk_company_logo_url_valid CHECK (
        company_logo_url IS NULL OR 
        (company_logo_url NOT LIKE 'javascript:%' AND
         company_logo_url NOT LIKE 'data:%' AND
         company_logo_url NOT LIKE 'vbscript:%' AND
         company_logo_url NOT LIKE 'file:%' AND
         LENGTH(company_logo_url) <= 500)
    ),
    CONSTRAINT chk_privacy_policy_url_valid CHECK (
        privacy_policy_url IS NULL OR 
        (privacy_policy_url NOT LIKE 'javascript:%' AND
         privacy_policy_url NOT LIKE 'data:%' AND
         LENGTH(privacy_policy_url) <= 500)
    ),
    CONSTRAINT chk_terms_of_service_url_valid CHECK (
        terms_of_service_url IS NULL OR 
        (terms_of_service_url NOT LIKE 'javascript:%' AND
         terms_of_service_url NOT LIKE 'data:%' AND
         LENGTH(terms_of_service_url) <= 500)
    ),
    CONSTRAINT chk_cookie_policy_url_valid CHECK (
        cookie_policy_url IS NULL OR 
        (cookie_policy_url NOT LIKE 'javascript:%' AND
         cookie_policy_url NOT LIKE 'data:%' AND
         LENGTH(cookie_policy_url) <= 500)
    ),
    CONSTRAINT chk_company_description_length CHECK (LENGTH(company_description) <= 5000),
    CONSTRAINT chk_copyright_text_length CHECK (LENGTH(copyright_text) <= 1000),
    CONSTRAINT chk_newsletter_subtitle_length CHECK (LENGTH(newsletter_subtitle) <= 1000)
);

INSERT INTO footer_content (id, locale, company_name, company_description, company_logo_url, company_tagline, contact_email, contact_phone, contact_address, support_email, sales_email, copyright_text, privacy_policy_url, terms_of_service_url, cookie_policy_url, newsletter_enabled, newsletter_title, newsletter_subtitle, newsletter_placeholder, newsletter_button_text, newsletter_success_message, newsletter_error_message, show_social_links, show_newsletter, show_contact_info, show_navigation, show_company_info, version, published, created_at, updated_at, created_by, updated_by) VALUES (1, 'en', 'AI Studio', 'Elevate your tech career with expert-led courses. Practical training designed to advance your skills.', '/images/Logo.svg', NULL, 'contact@aistudio555.com', NULL, NULL, 'support@aistudio555.com', 'sales@aistudio555.com', '© 2024 AI Studio. All rights reserved.', '/privacy-policy', '/terms-of-service', '/cookie-policy', 1, 'Subscribe to Newsletter', 'Get the latest courses and updates delivered to your inbox', 'Enter email to subscribe', 'Subscribe', 'Thank you for subscribing!', 'Something went wrong. Please try again.', 1, 1, 1, 1, 1, 1, 1, '2025-09-12 07:57:39', '2025-09-12 07:57:39', NULL, NULL);
INSERT INTO footer_content (id, locale, company_name, company_description, company_logo_url, company_tagline, contact_email, contact_phone, contact_address, support_email, sales_email, copyright_text, privacy_policy_url, terms_of_service_url, cookie_policy_url, newsletter_enabled, newsletter_title, newsletter_subtitle, newsletter_placeholder, newsletter_button_text, newsletter_success_message, newsletter_error_message, show_social_links, show_newsletter, show_contact_info, show_navigation, show_company_info, version, published, created_at, updated_at, created_by, updated_by) VALUES (2, 'ru', 'AI Studio', 'Повысьте свою техническую карьеру с помощью курсов под руководством экспертов. Практическое обучение для развития навыков.', '/images/Logo.svg', NULL, 'contact@aistudio555.com', NULL, NULL, 'support@aistudio555.com', 'sales@aistudio555.com', '© 2024 AI Studio. Все права защищены.', '/ru/privacy-policy', '/ru/terms-of-service', '/cookie-policy', 1, 'Подписаться на рассылку', 'Получайте последние курсы и обновления на ваш email', 'Enter email to subscribe', 'Subscribe', 'Thank you for subscribing!', 'Something went wrong. Please try again.', 1, 1, 1, 1, 1, 1, 1, '2025-09-12 07:57:39', '2025-09-12 07:57:39', NULL, NULL);
INSERT INTO footer_content (id, locale, company_name, company_description, company_logo_url, company_tagline, contact_email, contact_phone, contact_address, support_email, sales_email, copyright_text, privacy_policy_url, terms_of_service_url, cookie_policy_url, newsletter_enabled, newsletter_title, newsletter_subtitle, newsletter_placeholder, newsletter_button_text, newsletter_success_message, newsletter_error_message, show_social_links, show_newsletter, show_contact_info, show_navigation, show_company_info, version, published, created_at, updated_at, created_by, updated_by) VALUES (3, 'he', 'AI Studio', 'העלה את הקריירה הטכנולוגית שלך עם קורסים בהנחיית מומחים. הכשרה מעשית שנועדה לקדם את הכישורים שלך.', '/images/Logo.svg', NULL, 'contact@aistudio555.com', NULL, NULL, 'support@aistudio555.com', 'sales@aistudio555.com', '© 2024 AI Studio. כל הזכויות שמורות.', '/he/privacy-policy', '/he/terms-of-service', '/cookie-policy', 1, 'הרשמה לעדכונים', 'קבל את הקורסים והעדכונים האחרונים למייל שלך', 'Enter email to subscribe', 'Subscribe', 'Thank you for subscribing!', 'Something went wrong. Please try again.', 1, 1, 1, 1, 1, 1, 1, '2025-09-12 07:57:39', '2025-09-12 07:57:39', NULL, NULL);

-- Table: footer_navigation_menus
DROP TABLE IF EXISTS footer_navigation_menus CASCADE;
CREATE TABLE footer_navigation_menus (
    id SERIAL PRIMARY KEY ,
    locale VARCHAR(5) NOT NULL DEFAULT 'en',
    menu_type VARCHAR(50) NOT NULL,
    menu_title VARCHAR(100),
    display_order INTEGER DEFAULT 0,
    is_visible BOOLEAN DEFAULT 1,
    
    -- Menu items stored as JSON text (SQLite doesn't have JSONB)
    menu_items TEXT DEFAULT '[]',
    
    -- Metadata
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    
    -- Constraints
    CONSTRAINT fk_nav_footer_content FOREIGN KEY (locale) 
        REFERENCES footer_content(locale) ON DELETE CASCADE,
    CONSTRAINT chk_nav_valid_locale CHECK (locale IN ('en', 'ru', 'he')),
    CONSTRAINT chk_menu_type_valid CHECK (
        menu_type IN ('main', 'courses', 'company', 'support', 'utility', 'legal', 'footer')
    ),
    CONSTRAINT unique_locale_menu UNIQUE(locale, menu_type)
);

INSERT INTO footer_navigation_menus (id, locale, menu_type, menu_title, display_order, is_visible, menu_items, created_at, updated_at) VALUES (1, 'en', 'main', 'Main', 1, 1, '[{"text":"Home","url":"/home.html","target":"_self","order":1,"visible":true},
   {"text":"Courses","url":"/courses.html","target":"_self","order":2,"visible":true},
   {"text":"Teachers","url":"/teachers.html","target":"_self","order":3,"visible":true},
   {"text":"About","url":"/about-us.html","target":"_self","order":4,"visible":true}]', '2025-09-12 07:57:39', '2025-09-12 07:57:39');
INSERT INTO footer_navigation_menus (id, locale, menu_type, menu_title, display_order, is_visible, menu_items, created_at, updated_at) VALUES (2, 'en', 'company', 'Company', 2, 1, '[{"text":"About Us","url":"/about-us.html","target":"_self","order":1,"visible":true},
   {"text":"Contact","url":"/contact-us.html","target":"_self","order":2,"visible":true},
   {"text":"Career Center","url":"/career-center.html","target":"_self","order":3,"visible":true}]', '2025-09-12 07:57:39', '2025-09-12 07:57:39');
INSERT INTO footer_navigation_menus (id, locale, menu_type, menu_title, display_order, is_visible, menu_items, created_at, updated_at) VALUES (3, 'en', 'legal', 'Legal', 3, 1, '[{"text":"Privacy Policy","url":"/privacy-policy","target":"_self","order":1,"visible":true},
   {"text":"Terms of Service","url":"/terms-of-service","target":"_self","order":2,"visible":true},
   {"text":"Cookie Policy","url":"/cookie-policy","target":"_self","order":3,"visible":true}]', '2025-09-12 07:57:39', '2025-09-12 07:57:39');
INSERT INTO footer_navigation_menus (id, locale, menu_type, menu_title, display_order, is_visible, menu_items, created_at, updated_at) VALUES (7, 'he', 'main', 'תפריט', 1, 1, '[
            {"text": "בית", "url": "/he/home.html", "target": "_self", "order": 1, "visible": true},
            {"text": "אודות", "url": "/he/about-us.html", "target": "_self", "order": 2, "visible": true},
            {"text": "קורסים", "url": "/he/courses.html", "target": "_self", "order": 3, "visible": true},
            {"text": "מורים", "url": "/he/teachers.html", "target": "_self", "order": 4, "visible": true},
            {"text": "מחירים", "url": "/he/pricing.html", "target": "_self", "order": 5, "visible": true},
            {"text": "בלוג", "url": "/he/blog.html", "target": "_self", "order": 6, "visible": true},
            {"text": "צור קשר", "url": "/he/contact-us.html", "target": "_self", "order": 7, "visible": true}
          ]', '2025-09-12 14:51:18', '2025-09-12 14:51:18');

-- Table: footer_social_links
DROP TABLE IF EXISTS footer_social_links CASCADE;
CREATE TABLE footer_social_links (
    id SERIAL PRIMARY KEY ,
    locale VARCHAR(5) NOT NULL DEFAULT 'en',
    platform VARCHAR(50) NOT NULL,
    
    -- Social Media Details
    url VARCHAR(500),
    icon_class VARCHAR(100),
    icon_svg TEXT,
    display_text VARCHAR(100),
    tooltip VARCHAR(255),
    display_order INTEGER DEFAULT 0,
    is_visible BOOLEAN DEFAULT 1,
    opens_new_tab BOOLEAN DEFAULT 1,
    
    -- Analytics
    tracking_code VARCHAR(255),
    
    -- Metadata
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    
    -- Constraints
    CONSTRAINT fk_social_footer_content FOREIGN KEY (locale) 
        REFERENCES footer_content(locale) ON DELETE CASCADE,
    CONSTRAINT chk_social_valid_locale CHECK (locale IN ('en', 'ru', 'he')),
    CONSTRAINT chk_platform_valid CHECK (
        platform IN ('facebook', 'twitter', 'linkedin', 'instagram', 'youtube', 'telegram', 'whatsapp', 'tiktok', 'github')
    ),
    CONSTRAINT chk_social_url_valid CHECK (
        url IS NULL OR 
        (url NOT LIKE 'javascript:%' AND
         url NOT LIKE 'data:%' AND
         url NOT LIKE 'vbscript:%' AND
         url NOT LIKE 'file:%' AND
         LENGTH(url) <= 500)
    ),
    CONSTRAINT unique_locale_platform UNIQUE(locale, platform)
);

INSERT INTO footer_social_links (id, locale, platform, url, icon_class, icon_svg, display_text, tooltip, display_order, is_visible, opens_new_tab, tracking_code, created_at, updated_at) VALUES (1, 'en', 'facebook', 'https://facebook.com/aistudio555', 'fab fa-facebook-f', NULL, 'Facebook', NULL, 1, 1, 1, NULL, '2025-09-12 07:57:39', '2025-09-12 07:57:39');
INSERT INTO footer_social_links (id, locale, platform, url, icon_class, icon_svg, display_text, tooltip, display_order, is_visible, opens_new_tab, tracking_code, created_at, updated_at) VALUES (2, 'en', 'linkedin', 'https://linkedin.com/company/aistudio555', 'fab fa-linkedin-in', NULL, 'LinkedIn', NULL, 2, 1, 1, NULL, '2025-09-12 07:57:39', '2025-09-12 07:57:39');
INSERT INTO footer_social_links (id, locale, platform, url, icon_class, icon_svg, display_text, tooltip, display_order, is_visible, opens_new_tab, tracking_code, created_at, updated_at) VALUES (3, 'en', 'twitter', 'https://twitter.com/aistudio555', 'fab fa-twitter', NULL, 'Twitter', NULL, 3, 1, 1, NULL, '2025-09-12 07:57:39', '2025-09-12 07:57:39');
INSERT INTO footer_social_links (id, locale, platform, url, icon_class, icon_svg, display_text, tooltip, display_order, is_visible, opens_new_tab, tracking_code, created_at, updated_at) VALUES (4, 'en', 'instagram', 'https://instagram.com/aistudio555', 'fab fa-instagram', NULL, 'Instagram', NULL, 4, 1, 1, NULL, '2025-09-12 07:57:39', '2025-09-12 07:57:39');
INSERT INTO footer_social_links (id, locale, platform, url, icon_class, icon_svg, display_text, tooltip, display_order, is_visible, opens_new_tab, tracking_code, created_at, updated_at) VALUES (9, 'he', 'facebook', 'https://www.facebook.com/aistudio555', 'fab fa-facebook-f', NULL, 'פייסבוק', 'עקבו אחרינו בפייסבוק', 1, 1, 1, NULL, '2025-09-12 14:51:18', '2025-09-12 14:51:18');
INSERT INTO footer_social_links (id, locale, platform, url, icon_class, icon_svg, display_text, tooltip, display_order, is_visible, opens_new_tab, tracking_code, created_at, updated_at) VALUES (10, 'he', 'twitter', 'https://twitter.com/aistudio555', 'fab fa-twitter', NULL, 'טוויטר', 'עקבו אחרינו בטוויטר', 2, 1, 1, NULL, '2025-09-12 14:51:18', '2025-09-12 14:51:18');
INSERT INTO footer_social_links (id, locale, platform, url, icon_class, icon_svg, display_text, tooltip, display_order, is_visible, opens_new_tab, tracking_code, created_at, updated_at) VALUES (11, 'he', 'linkedin', 'https://www.linkedin.com/company/aistudio555', 'fab fa-linkedin-in', NULL, 'לינקדאין', 'התחברו בלינקדאין', 3, 1, 1, NULL, '2025-09-12 14:51:18', '2025-09-12 14:51:18');
INSERT INTO footer_social_links (id, locale, platform, url, icon_class, icon_svg, display_text, tooltip, display_order, is_visible, opens_new_tab, tracking_code, created_at, updated_at) VALUES (12, 'he', 'whatsapp', 'https://wa.me/972501234567', 'fab fa-whatsapp', NULL, 'WhatsApp', 'צרו קשר בוואטסאפ', 4, 1, 1, NULL, '2025-09-12 14:51:18', '2025-09-12 14:51:18');

-- Table: footer_newsletter_config
DROP TABLE IF EXISTS footer_newsletter_config CASCADE;
CREATE TABLE footer_newsletter_config (
    id SERIAL PRIMARY KEY ,
    locale VARCHAR(5) NOT NULL DEFAULT 'en',
    
    -- Email Service Configuration
    service_provider VARCHAR(50) DEFAULT 'emailjs',
    api_endpoint VARCHAR(500),
    api_key_encrypted TEXT,
    list_id VARCHAR(100),
    template_id VARCHAR(100),
    
    -- Form Configuration (JSON text in SQLite)
    form_fields TEXT DEFAULT '[]',
    
    -- GDPR & Compliance
    gdpr_consent_required BOOLEAN DEFAULT 1,
    gdpr_consent_text TEXT DEFAULT 'I agree to receive marketing emails and accept the privacy policy',
    double_opt_in BOOLEAN DEFAULT 0,
    
    -- Rate Limiting
    max_submissions_per_ip INTEGER DEFAULT 5,
    rate_limit_window_minutes INTEGER DEFAULT 60,
    
    -- Metadata
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    
    -- Constraints
    CONSTRAINT fk_newsletter_footer_content FOREIGN KEY (locale) 
        REFERENCES footer_content(locale) ON DELETE CASCADE,
    CONSTRAINT chk_newsletter_valid_locale CHECK (locale IN ('en', 'ru', 'he')),
    CONSTRAINT unique_newsletter_locale UNIQUE(locale)
);

INSERT INTO footer_newsletter_config (id, locale, service_provider, api_endpoint, api_key_encrypted, list_id, template_id, form_fields, gdpr_consent_required, gdpr_consent_text, double_opt_in, max_submissions_per_ip, rate_limit_window_minutes, created_at, updated_at) VALUES (1, 'en', 'emailjs', NULL, NULL, NULL, NULL, '[{"name":"email","type":"email","required":true,"placeholder":"Enter your email","validation":"email"}]', 1, 'I agree to receive marketing emails and accept the privacy policy', 0, 5, 60, '2025-09-12 07:57:39', '2025-09-12 07:57:39');
INSERT INTO footer_newsletter_config (id, locale, service_provider, api_endpoint, api_key_encrypted, list_id, template_id, form_fields, gdpr_consent_required, gdpr_consent_text, double_opt_in, max_submissions_per_ip, rate_limit_window_minutes, created_at, updated_at) VALUES (2, 'ru', 'emailjs', NULL, NULL, NULL, NULL, '[{"name":"email","type":"email","required":true,"placeholder":"Введите ваш email","validation":"email"}]', 1, 'Я согласен получать маркетинговые письма и принимаю политику конфиденциальности', 0, 5, 60, '2025-09-12 07:57:39', '2025-09-12 07:57:39');
INSERT INTO footer_newsletter_config (id, locale, service_provider, api_endpoint, api_key_encrypted, list_id, template_id, form_fields, gdpr_consent_required, gdpr_consent_text, double_opt_in, max_submissions_per_ip, rate_limit_window_minutes, created_at, updated_at) VALUES (3, 'he', 'emailjs', NULL, NULL, NULL, NULL, '[{"name":"email","type":"email","required":true,"placeholder":"הכנס את המייל שלך","validation":"email"}]', 1, 'אני מסכים לקבל מיילים שיווקיים ומקבל את מדיניות הפרטיות', 0, 5, 60, '2025-09-12 07:57:39', '2025-09-12 07:57:39');

-- Table: footer_audit_log
DROP TABLE IF EXISTS footer_audit_log CASCADE;
CREATE TABLE footer_audit_log (
    id SERIAL PRIMARY KEY ,
    table_name VARCHAR(50) NOT NULL,
    record_id INTEGER NOT NULL,
    action VARCHAR(20) NOT NULL,
    locale VARCHAR(5),
    
    -- Change details (JSON text in SQLite)
    old_values TEXT,
    new_values TEXT,
    changed_fields TEXT,
    
    -- User information
    user_id VARCHAR(100),
    user_email VARCHAR(255),
    user_ip VARCHAR(45),
    user_agent TEXT,
    
    -- Timestamp
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    
    -- Constraints
    CONSTRAINT chk_valid_table_name CHECK (
        table_name IN ('footer_content', 'footer_navigation_menus', 'footer_social_links', 'footer_newsletter_config')
    )
);

INSERT INTO footer_audit_log (id, table_name, record_id, action, locale, old_values, new_values, changed_fields, user_id, user_email, user_ip, user_agent, created_at) VALUES (1, 'footer_content', 1, 'INSERT', 'en', NULL, '{"id":1,"locale":"en","company_name":"AI Studio","published":1,"version":1}', NULL, 'system', NULL, NULL, NULL, '2025-09-12 07:57:39');
INSERT INTO footer_audit_log (id, table_name, record_id, action, locale, old_values, new_values, changed_fields, user_id, user_email, user_ip, user_agent, created_at) VALUES (2, 'footer_content', 2, 'INSERT', 'ru', NULL, '{"id":2,"locale":"ru","company_name":"AI Studio","published":1,"version":1}', NULL, 'system', NULL, NULL, NULL, '2025-09-12 07:57:39');
INSERT INTO footer_audit_log (id, table_name, record_id, action, locale, old_values, new_values, changed_fields, user_id, user_email, user_ip, user_agent, created_at) VALUES (3, 'footer_content', 3, 'INSERT', 'he', NULL, '{"id":3,"locale":"he","company_name":"AI Studio","published":1,"version":1}', NULL, 'system', NULL, NULL, NULL, '2025-09-12 07:57:39');
INSERT INTO footer_audit_log (id, table_name, record_id, action, locale, old_values, new_values, changed_fields, user_id, user_email, user_ip, user_agent, created_at) VALUES (4, 'footer_navigation_menus', 1, 'INSERT', 'en', NULL, '{"id":1,"locale":"en","menu_type":"main"}', NULL, 'system', NULL, NULL, NULL, '2025-09-12 07:57:39');
INSERT INTO footer_audit_log (id, table_name, record_id, action, locale, old_values, new_values, changed_fields, user_id, user_email, user_ip, user_agent, created_at) VALUES (5, 'footer_navigation_menus', 2, 'INSERT', 'en', NULL, '{"id":2,"locale":"en","menu_type":"company"}', NULL, 'system', NULL, NULL, NULL, '2025-09-12 07:57:39');
INSERT INTO footer_audit_log (id, table_name, record_id, action, locale, old_values, new_values, changed_fields, user_id, user_email, user_ip, user_agent, created_at) VALUES (6, 'footer_navigation_menus', 3, 'INSERT', 'en', NULL, '{"id":3,"locale":"en","menu_type":"legal"}', NULL, 'system', NULL, NULL, NULL, '2025-09-12 07:57:39');
INSERT INTO footer_audit_log (id, table_name, record_id, action, locale, old_values, new_values, changed_fields, user_id, user_email, user_ip, user_agent, created_at) VALUES (7, 'footer_navigation_menus', 7, 'INSERT', 'he', NULL, '{"id":7,"locale":"he","menu_type":"main"}', NULL, 'system', NULL, NULL, NULL, '2025-09-12 14:51:18');

COMMIT;
PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE nd_courses (
    id SERIAL PRIMARY KEY ,
    course_key VARCHAR(100) UNIQUE,

    -- Multi-language title fields
    title VARCHAR(255),
    title_ru VARCHAR(255),
    title_he VARCHAR(255),

    -- Multi-language description fields
    description TEXT,
    description_ru TEXT,
    description_he TEXT,

    -- Multi-language short description fields
    short_description TEXT,
    short_description_ru TEXT,
    short_description_he TEXT,

    -- Pricing
    price VARCHAR(20),
    old_price VARCHAR(20),
    currency VARCHAR(10) DEFAULT 'USD',

    -- Course details
    duration VARCHAR(50),
    level VARCHAR(50),
    category VARCHAR(100),
    instructor VARCHAR(255),
    language VARCHAR(50) DEFAULT 'English',

    -- Media
    image VARCHAR(500),
    video_url VARCHAR(500),
    thumbnail VARCHAR(500),
    url VARCHAR(500),

    -- Metrics
    rating VARCHAR(10),
    reviews_count INTEGER DEFAULT 0,
    students_count INTEGER DEFAULT 0,
    lessons_count INTEGER DEFAULT 0,

    -- Content
    features TEXT,
    syllabus TEXT,
    requirements TEXT,
    what_you_learn TEXT,

    -- Status
    featured BOOLEAN DEFAULT false,
    visible BOOLEAN DEFAULT true,
    published BOOLEAN DEFAULT true,
    enrollment_open BOOLEAN DEFAULT true,

    -- Metadata
    order_index INTEGER DEFAULT 0,
    tags TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
INSERT INTO nd_courses VALUES(2,'course-2','React & Redux Masterclass','Мастер-класс React и Redux','מאסטר-קלאס React ו-Redux','Master React.js and Redux for building scalable single-page applications. Learn component architecture, state management, hooks, and best practices for production-ready React apps.','Глубоко изучите React.js и Redux для создания масштабируемых одностраничных приложений. Изучите архитектуру компонентов, управление состоянием, хуки и лучшие практики.','למדו React.js ו-Redux לבניית אפליקציות חד-עמודיות ניתנות להרחבה. למדו ארכיטקטורת רכיבים, ניהול מצב, hooks ושיטות מומלצות.',NULL,NULL,NULL,'99.99',NULL,'USD','10 weeks',NULL,'App Development','Michael Chen','English','images/course-react.jpg',NULL,NULL,NULL,'4.5',0,0,32,NULL,NULL,NULL,NULL,1,1,1,1,0,NULL,'2025-09-20 19:28:55','2025-09-20 19:28:55');
INSERT INTO nd_courses VALUES(3,'course-3','Node.js Backend Development','Разработка Backend на Node.js','פיתוח Backend עם Node.js','Become a backend expert with Node.js, Express, and MongoDB. Learn to build RESTful APIs, handle authentication, implement security best practices.','Станьте экспертом по backend с Node.js, Express и MongoDB. Научитесь создавать RESTful API, обрабатывать аутентификацию.','הפכו למומחי backend עם Node.js, Express ו-MongoDB. למדו לבנות RESTful APIs, לטפל באימות.',NULL,NULL,NULL,'99.99',NULL,'USD','9 weeks',NULL,'Machine Learning','David Williams','English','images/course-nodejs.jpg',NULL,NULL,NULL,'4.5',0,0,28,NULL,NULL,NULL,NULL,1,1,1,1,0,NULL,'2025-09-20 19:28:55','2025-09-20 19:28:55');
INSERT INTO nd_courses VALUES(4,'course-4','Python for Data Science','Python для науки о данных','Python למדע הנתונים','Unlock the power of Python for data analysis and machine learning. Master pandas, NumPy, matplotlib, and scikit-learn.','Раскройте возможности Python для анализа данных и машинного обучения. Освойте pandas, NumPy, matplotlib и scikit-learn.','שחררו את הכוח של Python לניתוח נתונים ולמידת מכונה. שלטו ב-pandas, NumPy, matplotlib ו-scikit-learn.',NULL,NULL,NULL,'99.99',NULL,'USD','12 weeks',NULL,'Web Development','Dr. Emily Martinez','English','images/course-python.jpg',NULL,NULL,NULL,'4.5',0,0,36,NULL,NULL,NULL,NULL,0,1,1,1,0,NULL,'2025-09-20 19:28:55','2025-09-20 19:28:55');
COMMIT;
