<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>AI Studio - Redirecting...</title>
  <script>
    // Detect browser language and redirect
    const userLang = navigator.language.slice(0, 2);
    const supportedLangs = ['en', 'ru', 'he'];
    const defaultLang = 'en';
    
    const redirectLang = supportedLangs.includes(userLang) ? userLang : defaultLang;
    window.location.replace('/' + redirectLang + '/');
  </script>
  <noscript>
    <meta http-equiv="refresh" content="0; url=/en/">
  </noscript>
<style>
    /* CRITICAL NAVIGATION FIX - Force visibility */
    .nav-menu { display: flex !important; align-items: center !important; gap: 20px !important; }
    .nav-link, .menu-dropdown-wrapper { display: inline-block !important; visibility: visible !important; opacity: 1 !important; }
    .dropdown-toggle { display: flex !important; align-items: center !important; gap: 5px !important; cursor: pointer !important; color: rgba(255,255,255,0.9) !important; padding: 8px 0 !important; }
    .dropdown-list { position: absolute !important; top: 100% !important; left: 0 !important; background: #05051a !important; border: 1px solid rgba(255,255,255,0.1) !important; border-radius: 8px !important; padding: 10px 0 !important; min-width: 200px !important; z-index: 1000 !important; opacity: 0 !important; visibility: hidden !important; transform: translateY(-10px) !important; transition: all 0.2s ease !important; }
    .menu-dropdown-wrapper:hover .dropdown-list, .dropdown-list.w--open { opacity: 1 !important; visibility: visible !important; transform: translateY(0) !important; }
    .dropdown-menu-text-link-block { display: block !important; padding: 10px 20px !important; color: rgba(255,255,255,0.9) !important; text-decoration: none !important; }
    .dropdown-menu-text-link-block:hover { background: rgba(255,255,255,0.05) !important; color: #ffd659 !important; }
    .navbar-button-wrapper { margin-left: auto !important; display: flex !important; align-items: center !important; gap: 20px !important; }
    .primary-button-wrapper.mobile { display: none !important; }
    @media (max-width: 991px) { .primary-button-wrapper.desktop { display: none !important; } .primary-button-wrapper.mobile { display: block !important; } }

  </style>

  <style id="universal-career-dropdown-fix">
    /* UNIVERSAL CAREER SERVICES DROPDOWN FIX - Applied to ALL pages */
    
    /* Reset any conflicting styles */
    .menu-dropdown-wrapper,
    .menu-dropdown-wrapper.w-dropdown {
      position: relative !important;
      display: inline-block !important;
      z-index: 999 !important;
    }
    
    /* Dropdown Toggle Styling */
    .dropdown-toggle,
    .dropdown-toggle.w-dropdown-toggle {
      display: inline-flex !important;
      align-items: center !important;
      gap: 6px !important;
      padding: 8px 0 !important;
      color: rgba(255, 255, 255, 0.9) !important;
      background: transparent !important;
      border: none !important;
      cursor: pointer !important;
      transition: color 0.2s ease !important;
      font-size: 14px !important;
      font-weight: 400 !important;
      text-decoration: none !important;
    }
    
    .dropdown-toggle:hover,
    .dropdown-toggle.w-dropdown-toggle:hover {
      color: #ffd659 !important;
      background: transparent !important;
    }
    
    .dropdown-toggle-text-block {
      color: inherit !important;
      font-size: inherit !important;
    }
    
    .dropdown-toggle-arrow-2 {
      color: inherit !important;
      font-size: 10px !important;
      transition: transform 0.2s ease !important;
    }
    
    .menu-dropdown-wrapper:hover .dropdown-toggle-arrow-2 {
      transform: rotate(180deg) !important;
    }
    
    /* Dropdown List - DARK THEME ENFORCED */
    .dropdown-list,
    .dropdown-list.w-dropdown-list {
      position: absolute !important;
      top: 100% !important;
      left: 0 !important;
      min-width: 200px !important;
      background: rgba(5, 5, 26, 0.98) !important; /* Dark background */
      backdrop-filter: blur(20px) !important;
      -webkit-backdrop-filter: blur(20px) !important;
      border: 1px solid rgba(255, 255, 255, 0.1) !important;
      border-radius: 12px !important;
      padding: 8px 0 !important;
      margin-top: 5px !important;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5) !important;
      opacity: 0 !important;
      visibility: hidden !important;
      transform: translateY(-10px) !important;
      transition: all 0.3s ease !important;
      z-index: 1000 !important;
      overflow: hidden !important;
    }
    
    /* Show dropdown on hover */
    .menu-dropdown-wrapper:hover .dropdown-list,
    .menu-dropdown-wrapper:hover .dropdown-list.w-dropdown-list,
    .dropdown-list.w--open {
      opacity: 1 !important;
      visibility: visible !important;
      transform: translateY(0) !important;
    }
    
    /* Dropdown Menu Items */
    .dropdown-menu-text-link-block,
    .dropdown-menu-text-link-block.w-inline-block {
      display: block !important;
      padding: 12px 20px !important;
      color: rgba(255, 255, 255, 0.9) !important;
      background: transparent !important;
      text-decoration: none !important;
      transition: all 0.2s ease !important;
      font-size: 14px !important;
      border: none !important;
      position: relative !important;
      overflow: hidden !important;
    }
    
    /* Hover effect for dropdown items */
    .dropdown-menu-text-link-block:hover,
    .dropdown-menu-text-link-block.w-inline-block:hover {
      background: rgba(102, 126, 234, 0.1) !important;
      color: #00c6ff !important;
      padding-left: 25px !important;
    }
    
    /* Add subtle gradient on hover */
    .dropdown-menu-text-link-block::before {
      content: '' !important;
      position: absolute !important;
      left: 0 !important;
      top: 0 !important;
      width: 3px !important;
      height: 100% !important;
      background: linear-gradient(180deg, #667eea 0%, #764ba2 100%) !important;
      opacity: 0 !important;
      transition: opacity 0.2s ease !important;
    }
    
    .dropdown-menu-text-link-block:hover::before {
      opacity: 1 !important;
    }
    
    /* Text inside dropdown items */
    .dropdown-menu-text-link-block div {
      color: inherit !important;
      font-size: inherit !important;
      background: none !important;
      border: none !important;
      padding: 0 !important;
      margin: 0 !important;
    }
    
    /* Remove any active/current states in dropdown */
    .dropdown-list a.w--current,
    .dropdown-menu-text-link-block.w--current {
      background: transparent !important;
      color: rgba(255, 255, 255, 0.9) !important;
    }
    
    .dropdown-list a.w--current:hover,
    .dropdown-menu-text-link-block.w--current:hover {
      background: rgba(102, 126, 234, 0.1) !important;
      color: #00c6ff !important;
    }
    
    /* Mobile responsive adjustments */
    @media (max-width: 991px) {
      .dropdown-list,
      .dropdown-list.w-dropdown-list {
        position: static !important;
        width: 100% !important;
        margin-top: 0 !important;
        border-radius: 0 !important;
        background: rgba(5, 5, 26, 1) !important;
      }
      
      .dropdown-menu-text-link-block {
        padding: 15px 20px !important;
      }
    }
    
    /* Ensure dropdown is above other elements */
    .navbar,
    .w-nav {
      z-index: 990 !important;
    }
    
    /* Additional safeguards */
    .dropdown-list * {
      box-sizing: border-box !important;
    }
    
    /* Remove any page-specific overrides */
    .career-orientation-page .dropdown-list,
    .career-center-page .dropdown-list,
    .courses-page .dropdown-list,
    .home-page .dropdown-list {
      background: rgba(5, 5, 26, 0.98) !important;
    }
  </style>

  <link href="css/mobile-fix.css" rel="stylesheet" type="text/css">
  <link href="css/language-selector-mobile-fix.css" rel="stylesheet" type="text/css">
  <link href="css/mobile-menu-proper-fix.css" rel="stylesheet" type="text/css">
  <link href="/css/mobile-responsive-fix.css" rel="stylesheet" type="text/css">
  <link href="/css/desktop-language-selector-fix.css" rel="stylesheet" type="text/css">
  <link href="css/faq-visibility-fix.css" rel="stylesheet" type="text/css">
</head>
<body>
  <p>Redirecting to <a href="/en/">AI Studio</a>...</p>

  <script>
    // Fix Career Services dropdown
    document.addEventListener('DOMContentLoaded', function() {
      const dropdown = document.querySelector('.w-dropdown');
      const dropdownToggle = document.querySelector('.w-dropdown-toggle');
      const dropdownList = document.querySelector('.w-dropdown-list');
      
      if (dropdown && dropdownToggle && dropdownList) {
        // Add hover functionality
        dropdown.addEventListener('mouseenter', function() {
          dropdownList.style.display = 'block';
          dropdown.classList.add('w--open');
          dropdownToggle.classList.add('w--open');
        });
        
        dropdown.addEventListener('mouseleave', function() {
          dropdownList.style.display = 'none';
          dropdown.classList.remove('w--open');
          dropdownToggle.classList.remove('w--open');
        });
        
        // Add click functionality as backup
        dropdownToggle.addEventListener('click', function(e) {
          e.preventDefault();
          const isOpen = dropdownList.style.display === 'block';
          dropdownList.style.display = isOpen ? 'none' : 'block';
          dropdown.classList.toggle('w--open');
          dropdownToggle.classList.toggle('w--open');
        });
      }
    });
  </script>
  <!-- Navigation Fix Script -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      console.log('Navigation fix initializing...');
      
      // Fix dropdowns
      const dropdowns = document.querySelectorAll('.menu-dropdown-wrapper');
      dropdowns.forEach(dropdown => {
        const toggle = dropdown.querySelector('.dropdown-toggle');
        const list = dropdown.querySelector('.dropdown-list');
        if (toggle && list) {
          toggle.addEventListener('click', function(e) {
            e.stopPropagation();
            list.classList.toggle('w--open');
          });
        }
      });
      
      // Close dropdowns when clicking outside
      document.addEventListener('click', function() {
        document.querySelectorAll('.dropdown-list').forEach(list => {
          list.classList.remove('w--open');
        });
      });
      
      // Prevent browser extension errors
      window.addEventListener('error', function(e) {
        if (e.filename && e.filename.includes('content.js')) {
          e.preventDefault();
          return true;
        }
      });
      
      console.log('Navigation fix complete');
    });
  </script>

  <!-- Language Switcher -->
  <script>
    // Inline Language Switcher for AI Studio
    (function() {
      'use strict';
      
      const LANGUAGES = {
        en: { name: 'English', flag: '🇬🇧', dir: 'ltr', label: 'EN' },
        ru: { name: 'Русский', flag: '🇷🇺', dir: 'ltr', label: 'RU' },
        he: { name: 'עברית', flag: '🇮🇱', dir: 'rtl', label: 'HE' }
      };
      
      const STORAGE_KEY = 'aistudio_language';
      
      function detectCurrentLanguage() {
        const pathParts = window.location.pathname.split('/');
        const urlLang = pathParts.find(part => LANGUAGES[part]);
        if (urlLang) return urlLang;
        
        const storedLang = localStorage.getItem(STORAGE_KEY);
        if (storedLang && LANGUAGES[storedLang]) return storedLang;
        
        return 'en';
      }
      
      function createLanguageSwitcher() {
        if (document.getElementById('language-switcher')) return;
        
        const currentLang = detectCurrentLanguage();
        const switcher = document.createElement('div');
        switcher.id = 'language-switcher';
        // Let CSS handle positioning via desktop-language-selector-fix.css
        
        switcher.innerHTML = `
          <style>
            #language-switcher select {
              padding: 10px 16px;
              background: rgba(5, 5, 26, 0.95);
              border: 1px solid rgba(255, 255, 255, 0.2);
              border-radius: 12px;
              color: white;
              font-family: "Plus Jakarta Sans", sans-serif;
              font-size: 14px;
              font-weight: 500;
              cursor: pointer;
              backdrop-filter: blur(10px);
              outline: none;
              transition: all 0.3s ease;
            }
            #language-switcher select:hover {
              background: rgba(0, 128, 255, 0.1);
              border-color: rgba(0, 128, 255, 0.3);
              transform: translateY(-2px);
            }
            #language-switcher select option {
              background: #05051a;
              color: white;
              padding: 8px;
            }
            html[dir="rtl"] #language-switcher {
              right: auto;
              left: 20px;
            }
            @media (max-width: 768px) {
              #language-switcher {
                top: 10px;
                right: 10px;
              }
              #language-switcher select {
                padding: 8px 12px;
                font-size: 13px;
              }
            }
          </style>
          <select onchange="switchLanguage(this.value)" id="languageSelect">
            ${Object.entries(LANGUAGES).map(([code, lang]) => 
              `<option value="${code}" ${code === currentLang ? 'selected' : ''}>${lang.flag} ${lang.name}</option>`
            ).join('')}
          </select>
        `;
        
        const navbar = document.querySelector(".navbar-content") || document.querySelector(".navbar") || document.body; navbar.appendChild(switcher);
        
        // Apply language settings
        document.documentElement.lang = currentLang;
        document.documentElement.dir = LANGUAGES[currentLang].dir;
        localStorage.setItem(STORAGE_KEY, currentLang);
      }
      
      // Enhanced switchLanguage function that triggers footer updates
window.switchLanguage = function(newLang) {
  if (!newLang || !['en', 'ru', 'he'].includes(newLang)) return;
  
  console.log('🌐 Switching language to:', newLang);
  
  // Dispatch event for footer to listen to
  document.dispatchEvent(new CustomEvent('languageChanged', {
    detail: { locale: newLang }
  }));
  
  // Store preference
  localStorage.setItem('preferredLanguage', newLang);
  
  // Update document attributes
  document.documentElement.lang = newLang;
  document.documentElement.dir = newLang === 'he' ? 'rtl' : 'ltr';
  
  // Navigate to new language version
  const currentPath = window.location.pathname;
  const pathParts = currentPath.split('/').filter(part => part);
  
  let newPath;
  if (pathParts[0] === 'dist' && ['en', 'ru', 'he'].includes(pathParts[1])) {
    pathParts[1] = newLang;
    newPath = '/' + pathParts.join('/');
  } else if (pathParts[0] === 'dist') {
    pathParts.splice(1, 0, newLang);
    newPath = '/' + pathParts.join('/');
  } else if (['en', 'ru', 'he'].includes(pathParts[0])) {
    pathParts[0] = newLang;
    newPath = '/' + pathParts.join('/');
  } else {
    let fileName = currentPath.split('/').pop() || 'index.html';
    if (fileName === 'home.html' || fileName === '') {
      fileName = 'index.html';
    }
    newPath = '/dist/' + newLang + '/' + fileName;
  }
  
  console.log('🔄 Navigating to:', newPath);
  window.location.href = newPath;
};;
      
      // Initialize when DOM is ready
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', createLanguageSwitcher);
      } else {
        createLanguageSwitcher();
      }
    })();
  </script>
  <!-- Contact Form Modal -->
  <!-- EmailJS SDK -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <script src="js/contact-form-modal.js"></script>
  <script id="career-dropdown-fix-js">
    // Career Services Dropdown Consistency Fix
    (function() {
      'use strict';
      
      function fixCareerDropdown() {
        // Remove w--current class from dropdown items
        const dropdownLinks = document.querySelectorAll('.dropdown-list a, .dropdown-menu-text-link-block');
        dropdownLinks.forEach(link => {
          // Only remove w--current from dropdown items, not main nav
          if (link.closest('.dropdown-list')) {
            link.classList.remove('w--current');
          }
        });
        
        // Ensure dropdown functionality
        const dropdowns = document.querySelectorAll('.menu-dropdown-wrapper');
        dropdowns.forEach(dropdown => {
          const toggle = dropdown.querySelector('.dropdown-toggle');
          const list = dropdown.querySelector('.dropdown-list');
          
          if (toggle && list) {
            // Remove any inline styles that might interfere
            list.style.removeProperty('background-color');
            list.style.removeProperty('background');
            
            // Ensure hover works
            dropdown.addEventListener('mouseenter', function() {
              list.classList.add('w--open');
            });
            
            dropdown.addEventListener('mouseleave', function() {
              list.classList.remove('w--open');
            });
            
            // Mobile click support
            toggle.addEventListener('click', function(e) {
              if (window.innerWidth <= 991) {
                e.preventDefault();
                list.classList.toggle('w--open');
              }
            });
          }
        });
      }
      
      // Run on DOM ready
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', fixCareerDropdown);
      } else {
        fixCareerDropdown();
      }
      
      // Run again after a short delay to catch any dynamic changes
      setTimeout(fixCareerDropdown, 100);
      setTimeout(fixCareerDropdown, 500);
    })();
  </script>


  <!-- API Integration - CRITICAL FOR DYNAMIC CONTENT -->
  <script src="js/webflow-strapi-integration.js"></script>

  <!-- Secure Footer Loader - Emergency Security Fix -->
  <script src="js/secure-footer-loader.js"></script>
  <script>
    // Initialize secure footer loading
    document.addEventListener('DOMContentLoaded', function() {
      if (window.SecureFooterLoader) {
        const footerLoader = new window.SecureFooterLoader({
          containerId: 'secure-footer-container',
          debug: false,
          fallbackEnabled: true
        });
        footerLoader.loadFooter();
      }
    });
  </script>

  <script src="js/navigation-responsive-fix.js"></script>
  <script src="js/emergency-fix.js"></script>
  <script src="js/mobile-menu-toggle-fix.js"></script>
</body>
</html>