/* Mobile Responsive Fix - Prevent horizontal scrolling and ensure proper layout */

/* 1. Fix viewport and prevent horizontal scroll */
html, body {
  overflow-x: hidden !important;
  max-width: 100% !important;
  width: 100% !important;
}

/* 2. Fix container widths on mobile */
@media screen and (max-width: 767px) {
  /* Reset all containers to prevent overflow */
  .container,
  .container-large,
  .w-container,
  .section,
  .padding-section-large,
  .padding-section-medium,
  .hero-section,
  .home-hero-section,
  .home-courses-section,
  .home-teacher-section,
  .home-testimonial-section,
  .home-blog-section,
  .home-newsletter-section,
  .footer-section {
    max-width: 100% !important;
    padding-left: 20px !important;
    padding-right: 20px !important;
    overflow-x: hidden !important;
  }

  /* Fix grid layouts */
  .w-layout-grid,
  .home-hero-content-grid,
  .home-courses-grid,
  .home-teacher-card-wrapper,
  .blog-card-wrapper,
  .courses-grid {
    grid-template-columns: 1fr !important;
    gap: 20px !important;
    padding: 0 !important;
    max-width: 100% !important;
  }

  /* Fix images to prevent overflow */
  img {
    max-width: 100% !important;
    height: auto !important;
  }

  /* Fix absolute positioned elements */
  .home-hero-images,
  .home-hero-image-wrapper,
  .hero-bg-gradient-wrapper {
    position: relative !important;
    width: 100% !important;
    max-width: 100% !important;
    right: auto !important;
    left: auto !important;
  }

  /* Fix navigation to stay fixed at top */
  .navbar,
  .nav-section,
  .w-nav {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    z-index: 9999 !important;
    background: rgba(5, 5, 26, 0.98) !important;
  }

  /* Add padding to body to account for fixed nav */
  body {
    padding-top: 80px !important;
  }

  /* Ensure hamburger menu button is visible */
  .w-nav-button,
  .menu-button {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    position: absolute !important;
    right: 20px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    z-index: 10000 !important;
    width: 40px !important;
    height: 40px !important;
    background: transparent !important;
    border: none !important;
    cursor: pointer !important;
  }

  /* Fix language selector position */
  #language-switcher {
    position: absolute !important;
    right: 70px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    z-index: 9998 !important;
  }

  /* Fix text elements */
  h1, h2, h3, h4, h5, h6, p, div {
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    max-width: 100% !important;
  }

  /* Fix hero section content */
  .home-hero-content {
    max-width: 100% !important;
    padding: 20px !important;
    text-align: center !important;
  }

  .hero-h1,
  .home-hero-h1 {
    font-size: 32px !important;
    line-height: 1.2 !important;
  }

  .home-hero-paragraph {
    font-size: 16px !important;
    line-height: 1.5 !important;
  }

  /* Fix buttons */
  .button,
  .button-primary,
  .button-secondary {
    max-width: 100% !important;
    padding: 12px 20px !important;
    font-size: 14px !important;
  }

  /* Fix form elements */
  input, textarea, select {
    max-width: 100% !important;
    width: 100% !important;
  }

  /* Remove horizontal margins/paddings that might cause overflow */
  * {
    margin-left: 0 !important;
    margin-right: 0 !important;
  }

  /* Re-add controlled padding where needed */
  .container > *,
  .section > * {
    padding-left: 20px !important;
    padding-right: 20px !important;
  }
}

/* RTL specific fixes for Hebrew */
[dir="rtl"] {
  /* Flip hamburger position for RTL */
  .w-nav-button,
  .menu-button {
    right: auto !important;
    left: 20px !important;
  }

  /* Flip language selector for RTL */
  #language-switcher {
    right: auto !important;
    left: 70px !important;
  }
}

/* Ensure menu overlay works properly */
body.w--nav-menu-open {
  overflow: hidden !important;
}

/* Debug helper - remove in production */
@media screen and (max-width: 767px) {
  /* Highlight overflowing elements */
  * {
    /* outline: 1px solid rgba(255,0,0,0.1); */
  }
}