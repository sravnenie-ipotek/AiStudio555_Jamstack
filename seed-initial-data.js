/**
 * Multi-Language Seed Initial Data for Railway PostgreSQL
 * This script populates the database with initial content in English, Russian, and Hebrew
 */

const { Client } = require('pg');

async function seedDatabase() {
  const client = new Client({
    connectionString: process.env.DATABASE_URL,
    ssl: { rejectUnauthorized: false }
  });

  try {
    await client.connect();
    console.log('üîó Connected to PostgreSQL');

    // 0. Add locale columns if they don't exist
    console.log('üìä Adding locale support to tables...');
    
    const alterQueries = [
      'ALTER TABLE home_pages ADD COLUMN IF NOT EXISTS locale VARCHAR(5) DEFAULT \'en\'',
      'ALTER TABLE courses ADD COLUMN IF NOT EXISTS locale VARCHAR(5) DEFAULT \'en\'',
      'ALTER TABLE blog_posts ADD COLUMN IF NOT EXISTS locale VARCHAR(5) DEFAULT \'en\'',
      'ALTER TABLE teachers ADD COLUMN IF NOT EXISTS locale VARCHAR(5) DEFAULT \'en\'',
      'ALTER TABLE contact_pages ADD COLUMN IF NOT EXISTS locale VARCHAR(5) DEFAULT \'en\''
    ];

    for (const query of alterQueries) {
      try {
        await client.query(query);
      } catch (error) {
        console.log(`‚ö†Ô∏è  Column may already exist: ${error.message}`);
      }
    }

    // Update existing records to have 'en' locale
    await client.query('UPDATE home_pages SET locale = \'en\' WHERE locale IS NULL');
    await client.query('UPDATE courses SET locale = \'en\' WHERE locale IS NULL');
    await client.query('UPDATE blog_posts SET locale = \'en\' WHERE locale IS NULL');
    await client.query('UPDATE teachers SET locale = \'en\' WHERE locale IS NULL');
    await client.query('UPDATE contact_pages SET locale = \'en\' WHERE locale IS NULL');

    // Create unique constraints for locale columns
    console.log('üîí Creating unique constraints for locale columns...');
    const constraintQueries = [
      'ALTER TABLE home_pages ADD CONSTRAINT IF NOT EXISTS unique_home_page_locale UNIQUE (locale)',
      'ALTER TABLE courses ADD CONSTRAINT IF NOT EXISTS unique_course_locale UNIQUE (locale)',
      'ALTER TABLE blog_posts ADD CONSTRAINT IF NOT EXISTS unique_blog_post_locale UNIQUE (locale)',
      'ALTER TABLE teachers ADD CONSTRAINT IF NOT EXISTS unique_teacher_locale UNIQUE (locale)',
      'ALTER TABLE contact_pages ADD CONSTRAINT IF NOT EXISTS unique_contact_page_locale UNIQUE (locale)'
    ];

    for (const query of constraintQueries) {
      try {
        await client.query(query);
      } catch (error) {
        console.log('‚ö†Ô∏è Constraint might already exist:', error.message);
      }
    }

    // 1. Insert English home page data
    console.log('üá¨üáß Creating English home page content...');
    await client.query(`
      INSERT INTO home_pages (
        locale, title, 
        hero_title, hero_subtitle, hero_description, hero_section_visible,
        featured_courses_title, featured_courses_description, featured_courses_visible,
        about_title, about_subtitle, about_description, about_visible,
        companies_title, companies_description, companies_visible,
        testimonials_title, testimonials_subtitle, testimonials_visible,
        course_1_title, course_1_rating, course_1_lessons, course_1_duration, course_1_category, course_1_visible,
        course_2_title, course_2_rating, course_2_lessons, course_2_duration, course_2_category, course_2_visible,
        course_3_title, course_3_rating, course_3_lessons, course_3_duration, course_3_category, course_3_visible,
        course_4_title, course_4_rating, course_4_lessons, course_4_duration, course_4_category, course_4_visible,
        course_5_title, course_5_rating, course_5_lessons, course_5_duration, course_5_category, course_5_visible,
        course_6_title, course_6_rating, course_6_lessons, course_6_duration, course_6_category, course_6_visible,
        testimonial_1_text, testimonial_1_author, testimonial_1_rating, testimonial_1_visible,
        testimonial_2_text, testimonial_2_author, testimonial_2_rating, testimonial_2_visible,
        testimonial_3_text, testimonial_3_author, testimonial_3_rating, testimonial_3_visible,
        testimonial_4_text, testimonial_4_author, testimonial_4_rating, testimonial_4_visible,
        published_at, created_at, updated_at
      ) VALUES (
        'en', 'AI Studio - Expert-Led Online Learning Platform',
        'Master AI & Technology', 'Transform Your Career with Expert-Led Courses', 'Join thousands of students learning cutting-edge technology from industry experts', true,
        'Featured Courses', 'Explore our most popular courses designed by industry experts', true,
        'About AI Studio', 'Your Path to Success', 'We provide world-class education in AI, Machine Learning, and modern technology', true,
        'Trusted by Leading Companies', 'Our graduates work at top technology companies worldwide', true,
        'Student Success Stories', 'Hear from our successful graduates', true,
        'Introduction to Machine Learning', '4.9', '24 Lessons', '8 Weeks', 'AI & ML', true,
        'Advanced Python Programming', '4.8', '32 Lessons', '10 Weeks', 'Programming', true,
        'Data Science Fundamentals', '4.9', '28 Lessons', '12 Weeks', 'Data Science', true,
        'Web Development Bootcamp', '4.7', '45 Lessons', '16 Weeks', 'Web Dev', true,
        'Cloud Computing Essentials', '4.8', '20 Lessons', '6 Weeks', 'Cloud', true,
        'Cybersecurity Basics', '4.9', '18 Lessons', '8 Weeks', 'Security', true,
        'This course changed my life! I went from zero coding experience to landing a job at a tech company.', 'Sarah Johnson', '5.0', true,
        'The instructors are amazing and the content is always up-to-date with industry standards.', 'Michael Chen', '5.0', true,
        'Best investment I ever made in my career. The practical projects really prepared me for real work.', 'Emma Davis', '5.0', true,
        'The community support and mentorship made all the difference in my learning journey.', 'Alex Rodriguez', '5.0', true,
        NOW(), NOW(), NOW()
      ) ON CONFLICT (locale) DO UPDATE SET
        updated_at = NOW()
    `);

    // 2. Insert Russian home page data
    console.log('üá∑üá∫ Creating Russian home page content...');
    await client.query(`
      INSERT INTO home_pages (
        locale, title, 
        hero_title, hero_subtitle, hero_description, hero_section_visible,
        featured_courses_title, featured_courses_description, featured_courses_visible,
        about_title, about_subtitle, about_description, about_visible,
        companies_title, companies_description, companies_visible,
        testimonials_title, testimonials_subtitle, testimonials_visible,
        course_1_title, course_1_rating, course_1_lessons, course_1_duration, course_1_category, course_1_visible,
        course_2_title, course_2_rating, course_2_lessons, course_2_duration, course_2_category, course_2_visible,
        course_3_title, course_3_rating, course_3_lessons, course_3_duration, course_3_category, course_3_visible,
        course_4_title, course_4_rating, course_4_lessons, course_4_duration, course_4_category, course_4_visible,
        course_5_title, course_5_rating, course_5_lessons, course_5_duration, course_5_category, course_5_visible,
        course_6_title, course_6_rating, course_6_lessons, course_6_duration, course_6_category, course_6_visible,
        testimonial_1_text, testimonial_1_author, testimonial_1_rating, testimonial_1_visible,
        testimonial_2_text, testimonial_2_author, testimonial_2_rating, testimonial_2_visible,
        testimonial_3_text, testimonial_3_author, testimonial_3_rating, testimonial_3_visible,
        testimonial_4_text, testimonial_4_author, testimonial_4_rating, testimonial_4_visible,
        published_at, created_at, updated_at
      ) VALUES (
        'ru', 'AI Studio - –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –æ–Ω–ª–∞–π–Ω-–æ–±—É—á–µ–Ω–∏—è –æ—Ç —ç–∫—Å–ø–µ—Ä—Ç–æ–≤',
        '–û—Å–≤–æ–π—Ç–µ –ò–ò –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏', '–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–π—Ç–µ –∫–∞—Ä—å–µ—Ä—É —Å –∫—É—Ä—Å–∞–º–∏ –æ—Ç —ç–∫—Å–ø–µ—Ä—Ç–æ–≤', '–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —Ç—ã—Å—è—á–∞–º —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, –∏–∑—É—á–∞—é—â–∏—Ö –ø–µ—Ä–µ–¥–æ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏', true,
        '–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫—É—Ä—Å—ã', '–ò–∑—É—á–∏—Ç–µ –Ω–∞—à–∏ —Å–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫—É—Ä—Å—ã –æ—Ç —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏', true,
        '–û AI Studio', '–í–∞—à –ø—É—Ç—å –∫ —É—Å–ø–µ—Ö—É', '–ú—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–∏—Ä–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ –≤ –æ–±–ª–∞—Å—Ç–∏ –ò–ò –∏ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è', true,
        '–ù–∞–º –¥–æ–≤–µ—Ä—è—é—Ç –≤–µ–¥—É—â–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏', '–ù–∞—à–∏ –≤—ã–ø—É—Å–∫–Ω–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ç–æ–ø–æ–≤—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–∞–Ω–∏—è—Ö', true,
        '–ò—Å—Ç–æ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤', '–û—Ç–∑—ã–≤—ã –Ω–∞—à–∏—Ö –≤—ã–ø—É—Å–∫–Ω–∏–∫–æ–≤', true,
        '–í–≤–µ–¥–µ–Ω–∏–µ –≤ –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '4.9', '24 —É—Ä–æ–∫–∞', '8 –Ω–µ–¥–µ–ª—å', '–ò–ò –∏ –ú–û', true,
        '–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Python', '4.8', '32 —É—Ä–æ–∫–∞', '10 –Ω–µ–¥–µ–ª—å', '–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ', true,
        '–û—Å–Ω–æ–≤—ã –Ω–∞—É–∫–∏ –æ –¥–∞–Ω–Ω—ã—Ö', '4.9', '28 —É—Ä–æ–∫–æ–≤', '12 –Ω–µ–¥–µ–ª—å', 'Data Science', true,
        '–ë—É—Ç–∫–µ–º–ø –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏', '4.7', '45 —É—Ä–æ–∫–æ–≤', '16 –Ω–µ–¥–µ–ª—å', '–í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞', true,
        '–û—Å–Ω–æ–≤—ã –æ–±–ª–∞—á–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π', '4.8', '20 —É—Ä–æ–∫–æ–≤', '6 –Ω–µ–¥–µ–ª—å', '–û–±–ª–∞–∫–æ', true,
        '–û—Å–Ω–æ–≤—ã –∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏', '4.9', '18 —É—Ä–æ–∫–æ–≤', '8 –Ω–µ–¥–µ–ª—å', '–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å', true,
        '–≠—Ç–æ—Ç –∫—É—Ä—Å –∏–∑–º–µ–Ω–∏–ª –º–æ—é –∂–∏–∑–Ω—å! –Ø –ø—Ä–æ—à–µ–ª –ø—É—Ç—å –æ—Ç –Ω—É–ª—è –¥–æ —Ä–∞–±–æ—Ç—ã –≤ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –∫–æ–º–ø–∞–Ω–∏–∏.', '–°–∞—Ä–∞ –î–∂–æ–Ω—Å–æ–Ω', '5.0', true,
        '–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ –ø–æ—Ç—Ä—è—Å–∞—é—â–∏–µ, –∞ –∫–æ–Ω—Ç–µ–Ω—Ç –≤—Å–µ–≥–¥–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –∏–Ω–¥—É—Å—Ç—Ä–∏–∏.', '–ú–∏—Ö–∞–∏–ª –ß–µ–Ω', '5.0', true,
        '–õ—É—á—à–∞—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è –≤ –º–æ—é –∫–∞—Ä—å–µ—Ä—É. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–µ–∫—Ç—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª–∏ –º–µ–Ω—è.', '–≠–º–º–∞ –î—ç–≤–∏—Å', '5.0', true,
        '–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –∏ –º–µ–Ω—Ç–æ—Ä—Å—Ç–≤–æ —Å–¥–µ–ª–∞–ª–∏ –≤—Å—é —Ä–∞–∑–Ω–∏—Ü—É –≤ –º–æ–µ–º –æ–±—É—á–µ–Ω–∏–∏.', '–ê–ª–µ–∫—Å –†–æ–¥—Ä–∏–≥–µ—Å', '5.0', true,
        NOW(), NOW(), NOW()
      ) ON CONFLICT (locale) DO UPDATE SET
        updated_at = NOW()
    `);

    // 3. Insert Hebrew home page data
    console.log('üáÆüá± Creating Hebrew home page content...');
    await client.query(`
      INSERT INTO home_pages (
        locale, title,
        hero_title, hero_subtitle, hero_description, hero_section_visible,
        featured_courses_title, featured_courses_description, featured_courses_visible,
        about_title, about_subtitle, about_description, about_visible,
        companies_title, companies_description, companies_visible,
        testimonials_title, testimonials_subtitle, testimonials_visible,
        course_1_title, course_1_rating, course_1_lessons, course_1_duration, course_1_category, course_1_visible,
        course_2_title, course_2_rating, course_2_lessons, course_2_duration, course_2_category, course_2_visible,
        course_3_title, course_3_rating, course_3_lessons, course_3_duration, course_3_category, course_3_visible,
        course_4_title, course_4_rating, course_4_lessons, course_4_duration, course_4_category, course_4_visible,
        course_5_title, course_5_rating, course_5_lessons, course_5_duration, course_5_category, course_5_visible,
        course_6_title, course_6_rating, course_6_lessons, course_6_duration, course_6_category, course_6_visible,
        testimonial_1_text, testimonial_1_author, testimonial_1_rating, testimonial_1_visible,
        testimonial_2_text, testimonial_2_author, testimonial_2_rating, testimonial_2_visible,
        testimonial_3_text, testimonial_3_author, testimonial_3_rating, testimonial_3_visible,
        testimonial_4_text, testimonial_4_author, testimonial_4_rating, testimonial_4_visible,
        published_at, created_at, updated_at
      ) VALUES (
        'he', 'AI Studio - ◊§◊ú◊ò◊§◊ï◊®◊û◊™ ◊ú◊û◊ô◊ì◊î ◊û◊ß◊ï◊ï◊†◊™ ◊ë◊î◊ï◊ë◊ú◊™ ◊û◊ï◊û◊ó◊ô◊ù',
        '◊©◊ú◊ò◊ï ◊ë-AI ◊ï◊ò◊õ◊†◊ï◊ú◊ï◊í◊ô◊î', '◊©◊†◊ï ◊ê◊™ ◊î◊ß◊®◊ô◊ô◊®◊î ◊©◊ú◊õ◊ù ◊¢◊ù ◊ß◊ï◊®◊°◊ô◊ù ◊û◊ï◊û◊ó◊ô◊ù', '◊î◊¶◊ò◊®◊§◊ï ◊ú◊ê◊ú◊§◊ô ◊°◊ò◊ï◊ì◊†◊ò◊ô◊ù ◊î◊ú◊ï◊û◊ì◊ô◊ù ◊ò◊õ◊†◊ï◊ú◊ï◊í◊ô◊î ◊û◊™◊ß◊ì◊û◊™', true,
        '◊ß◊ï◊®◊°◊ô◊ù ◊û◊ï◊û◊ú◊¶◊ô◊ù', '◊ó◊ß◊®◊ï ◊ê◊™ ◊î◊ß◊ï◊®◊°◊ô◊ù ◊î◊§◊ï◊§◊ï◊ú◊®◊ô◊ô◊ù ◊ë◊ô◊ï◊™◊® ◊©◊ú◊†◊ï ◊û◊ê◊™ ◊û◊ï◊û◊ó◊ô ◊î◊™◊¢◊©◊ô◊ô◊î', true,
        '◊ê◊ï◊ì◊ï◊™ AI Studio', '◊î◊ì◊®◊ö ◊©◊ú◊õ◊ù ◊ú◊î◊¶◊ú◊ó◊î', '◊ê◊†◊ï ◊û◊°◊§◊ß◊ô◊ù ◊ó◊ô◊†◊ï◊ö ◊ë◊®◊û◊î ◊¢◊ï◊ú◊û◊ô◊™ ◊ë-AI ◊ï◊ú◊û◊ô◊ì◊™ ◊û◊õ◊ï◊†◊î', true,
        '◊ó◊ë◊®◊ï◊™ ◊û◊ï◊ë◊ô◊ú◊ï◊™ ◊°◊ï◊û◊õ◊ï◊™ ◊¢◊ú◊ô◊†◊ï', '◊î◊ë◊ï◊í◊®◊ô◊ù ◊©◊ú◊†◊ï ◊¢◊ï◊ë◊ì◊ô◊ù ◊ë◊ó◊ë◊®◊ï◊™ ◊î◊ò◊õ◊†◊ï◊ú◊ï◊í◊ô◊î ◊î◊û◊ï◊ë◊ô◊ú◊ï◊™', true,
        '◊°◊ô◊§◊ï◊®◊ô ◊î◊¶◊ú◊ó◊î ◊©◊ú ◊°◊ò◊ï◊ì◊†◊ò◊ô◊ù', '◊©◊û◊¢◊ï ◊û◊î◊ë◊ï◊í◊®◊ô◊ù ◊î◊û◊¶◊ú◊ô◊ó◊ô◊ù ◊©◊ú◊†◊ï', true,
        '◊û◊ë◊ï◊ê ◊ú◊ú◊û◊ô◊ì◊™ ◊û◊õ◊ï◊†◊î', '4.9', '24 ◊©◊ô◊¢◊ï◊®◊ô◊ù', '8 ◊©◊ë◊ï◊¢◊ï◊™', 'AI ◊ï-ML', true,
        '◊™◊õ◊†◊ï◊™ Python ◊û◊™◊ß◊ì◊ù', '4.8', '32 ◊©◊ô◊¢◊ï◊®◊ô◊ù', '10 ◊©◊ë◊ï◊¢◊ï◊™', '◊™◊õ◊†◊ï◊™', true,
        '◊ô◊°◊ï◊ì◊ï◊™ ◊û◊ì◊¢ ◊î◊†◊™◊ï◊†◊ô◊ù', '4.9', '28 ◊©◊ô◊¢◊ï◊®◊ô◊ù', '12 ◊©◊ë◊ï◊¢◊ï◊™', '◊û◊ì◊¢ ◊†◊™◊ï◊†◊ô◊ù', true,
        '◊ë◊ï◊ò◊ß◊û◊§ ◊§◊ô◊™◊ï◊ó ◊ê◊™◊®◊ô◊ù', '4.7', '45 ◊©◊ô◊¢◊ï◊®◊ô◊ù', '16 ◊©◊ë◊ï◊¢◊ï◊™', '◊§◊ô◊™◊ï◊ó ◊ï◊ï◊ë', true,
        '◊ô◊°◊ï◊ì◊ï◊™ ◊û◊ó◊©◊ï◊ë ◊¢◊†◊ü', '4.8', '20 ◊©◊ô◊¢◊ï◊®◊ô◊ù', '6 ◊©◊ë◊ï◊¢◊ï◊™', '◊¢◊†◊ü', true,
        '◊ô◊°◊ï◊ì◊ï◊™ ◊ê◊ë◊ò◊ó◊™ ◊°◊ô◊ô◊ë◊®', '4.9', '18 ◊©◊ô◊¢◊ï◊®◊ô◊ù', '8 ◊©◊ë◊ï◊¢◊ï◊™', '◊ê◊ë◊ò◊ó◊î', true,
        '◊î◊ß◊ï◊®◊° ◊î◊ñ◊î ◊©◊ô◊†◊î ◊ê◊™ ◊ó◊ô◊ô! ◊¢◊ë◊®◊™◊ô ◊û◊ê◊§◊° ◊†◊ô◊°◊ô◊ï◊ü ◊ë◊™◊õ◊†◊ï◊™ ◊ú◊¢◊ë◊ï◊ì◊î ◊ë◊ó◊ë◊®◊™ ◊ò◊õ◊†◊ï◊ú◊ï◊í◊ô◊î.', '◊©◊®◊î ◊í◊≥◊ï◊†◊°◊ï◊ü', '5.0', true,
        '◊î◊û◊ì◊®◊ô◊õ◊ô◊ù ◊û◊ì◊î◊ô◊û◊ô◊ù ◊ï◊î◊™◊ï◊õ◊ü ◊™◊û◊ô◊ì ◊û◊¢◊ï◊ì◊õ◊ü ◊ú◊°◊ò◊†◊ì◊®◊ò◊ô◊ù ◊©◊ú ◊î◊™◊¢◊©◊ô◊ô◊î.', '◊û◊ô◊ô◊ß◊ú ◊¶◊≥◊ü', '5.0', true,
        '◊î◊î◊©◊ß◊¢◊î ◊î◊ò◊ï◊ë◊î ◊ë◊ô◊ï◊™◊® ◊©◊¢◊©◊ô◊™◊ô ◊ë◊ß◊®◊ô◊ô◊®◊î ◊©◊ú◊ô. ◊î◊§◊®◊ï◊ô◊ß◊ò◊ô◊ù ◊î◊û◊¢◊©◊ô◊ô◊ù ◊ë◊ê◊û◊™ ◊î◊õ◊ô◊†◊ï ◊ê◊ï◊™◊ô.', '◊ê◊û◊î ◊ì◊ô◊ô◊ï◊ï◊ô◊°', '5.0', true,
        '◊î◊™◊û◊ô◊õ◊î ◊©◊ú ◊î◊ß◊î◊ô◊ú◊î ◊ï◊î◊ó◊†◊ô◊õ◊î ◊¢◊©◊ï ◊ê◊™ ◊õ◊ú ◊î◊î◊ë◊ì◊ú ◊ë◊û◊°◊¢ ◊î◊ú◊û◊ô◊ì◊î ◊©◊ú◊ô.', '◊ê◊ú◊õ◊° ◊®◊ï◊ì◊®◊ô◊í◊ñ', '5.0', true,
        NOW(), NOW(), NOW()
      ) ON CONFLICT (locale) DO UPDATE SET
        updated_at = NOW()
    `);

    // 4. Insert courses for all languages
    console.log('üìö Creating sample courses...');
    
    // English courses
    const englishCourses = [
      ['en', 'Introduction to Machine Learning', 'Learn the fundamentals of ML algorithms and applications', 299, '8 Weeks', '24 Lessons', 'AI & ML', '4.9', true],
      ['en', 'Advanced Python Programming', 'Master Python for data science and web development', 249, '10 Weeks', '32 Lessons', 'Programming', '4.8', true],
      ['en', 'Data Science Fundamentals', 'Complete guide to data analysis and visualization', 399, '12 Weeks', '28 Lessons', 'Data Science', '4.9', true],
      ['en', 'Web Development Bootcamp', 'Full-stack development with modern technologies', 499, '16 Weeks', '45 Lessons', 'Web Dev', '4.7', true]
    ];

    // Russian courses
    const russianCourses = [
      ['ru', '–í–≤–µ–¥–µ–Ω–∏–µ –≤ –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '–ò–∑—É—á–∏—Ç–µ –æ—Å–Ω–æ–≤—ã –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –ú–û –∏ –∏—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ', 299, '8 –Ω–µ–¥–µ–ª—å', '24 —É—Ä–æ–∫–∞', '–ò–ò –∏ –ú–û', '4.9', true],
      ['ru', '–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Python', '–û—Å–≤–æ–π—Ç–µ Python –¥–ª—è data science –∏ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏', 249, '10 –Ω–µ–¥–µ–ª—å', '32 —É—Ä–æ–∫–∞', '–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ', '4.8', true],
      ['ru', '–û—Å–Ω–æ–≤—ã –Ω–∞—É–∫–∏ –æ –¥–∞–Ω–Ω—ã—Ö', '–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∞–Ω–∞–ª–∏–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏', 399, '12 –Ω–µ–¥–µ–ª—å', '28 —É—Ä–æ–∫–æ–≤', 'Data Science', '4.9', true],
      ['ru', '–ë—É—Ç–∫–µ–º–ø –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏', 'Full-stack —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º–∏', 499, '16 –Ω–µ–¥–µ–ª—å', '45 —É—Ä–æ–∫–æ–≤', '–í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞', '4.7', true]
    ];

    // Hebrew courses
    const hebrewCourses = [
      ['he', '◊û◊ë◊ï◊ê ◊ú◊ú◊û◊ô◊ì◊™ ◊û◊õ◊ï◊†◊î', '◊ú◊û◊ì◊ï ◊ê◊™ ◊î◊ô◊°◊ï◊ì◊ï◊™ ◊©◊ú ◊ê◊ú◊í◊ï◊®◊ô◊™◊û◊ô ML ◊ï◊ô◊ô◊©◊ï◊û◊ô◊ù', 299, '8 ◊©◊ë◊ï◊¢◊ï◊™', '24 ◊©◊ô◊¢◊ï◊®◊ô◊ù', 'AI ◊ï-ML', '4.9', true],
      ['he', '◊™◊õ◊†◊ï◊™ Python ◊û◊™◊ß◊ì◊ù', '◊©◊ú◊ò◊ï ◊ë-Python ◊ú◊û◊ì◊¢ ◊†◊™◊ï◊†◊ô◊ù ◊ï◊§◊ô◊™◊ï◊ó ◊ê◊™◊®◊ô◊ù', 249, '10 ◊©◊ë◊ï◊¢◊ï◊™', '32 ◊©◊ô◊¢◊ï◊®◊ô◊ù', '◊™◊õ◊†◊ï◊™', '4.8', true],
      ['he', '◊ô◊°◊ï◊ì◊ï◊™ ◊û◊ì◊¢ ◊î◊†◊™◊ï◊†◊ô◊ù', '◊û◊ì◊®◊ô◊ö ◊û◊ú◊ê ◊ú◊†◊ô◊™◊ï◊ó ◊†◊™◊ï◊†◊ô◊ù ◊ï◊î◊ì◊û◊ô◊î', 399, '12 ◊©◊ë◊ï◊¢◊ï◊™', '28 ◊©◊ô◊¢◊ï◊®◊ô◊ù', '◊û◊ì◊¢ ◊†◊™◊ï◊†◊ô◊ù', '4.9', true],
      ['he', '◊ë◊ï◊ò◊ß◊û◊§ ◊§◊ô◊™◊ï◊ó ◊ê◊™◊®◊ô◊ù', '◊§◊ô◊™◊ï◊ó Full-stack ◊¢◊ù ◊ò◊õ◊†◊ï◊ú◊ï◊í◊ô◊ï◊™ ◊û◊ï◊ì◊®◊†◊ô◊ï◊™', 499, '16 ◊©◊ë◊ï◊¢◊ï◊™', '45 ◊©◊ô◊¢◊ï◊®◊ô◊ù', '◊§◊ô◊™◊ï◊ó ◊ï◊ï◊ë', '4.7', true]
    ];

    const allCourses = [...englishCourses, ...russianCourses, ...hebrewCourses];

    for (const [locale, title, description, price, duration, lessons, category, rating, visible] of allCourses) {
      await client.query(`
        INSERT INTO courses (locale, title, description, price, duration, lessons, category, rating, visible, published_at, created_at, updated_at)
        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, NOW(), NOW(), NOW())
        ON CONFLICT DO NOTHING
      `, [locale, title, description, price, duration, lessons, category, rating, visible]);
    }

    // 5. Insert contact pages for all languages
    console.log('üìû Creating contact pages...');
    const contactPages = [
      ['en', '+1 (555) 123-4567', 'info@aistudio555.com', '123 Tech Street, Silicon Valley, CA 94025', 'Monday-Friday: 9:00 AM - 6:00 PM', 'https://maps.google.com/?q=Silicon+Valley'],
      ['ru', '+7 (495) 123-45-67', 'info@aistudio555.ru', '—É–ª. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è 123, –ú–æ—Å–∫–≤–∞, 101000', '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫-–ü—è—Ç–Ω–∏—Ü–∞: 9:00 - 18:00', 'https://maps.google.com/?q=Moscow'],
      ['he', '+972-3-123-4567', 'info@aistudio555.co.il', '◊®◊ó◊ï◊ë ◊î◊ò◊õ◊†◊ï◊ú◊ï◊í◊ô◊î 123, ◊™◊ú ◊ê◊ë◊ô◊ë', '◊®◊ê◊©◊ï◊ü-◊ó◊û◊ô◊©◊ô: 9:00 - 18:00', 'https://maps.google.com/?q=Tel+Aviv']
    ];

    for (const [locale, phone, email, address, officeHours, mapUrl] of contactPages) {
      await client.query(`
        INSERT INTO contact_pages (locale, phone, email, address, office_hours, map_url, published_at, created_at, updated_at)
        VALUES ($1, $2, $3, $4, $5, $6, NOW(), NOW(), NOW())
        ON CONFLICT DO NOTHING
      `, [locale, phone, email, address, officeHours, mapUrl]);
    }

    // 6. Insert teachers for all languages
    console.log('üë®‚Äçüè´ Creating sample teachers...');
    const allTeachers = [
      // English
      ['en', 'Dr. Sarah Smith', 'Lead AI Instructor', 'PhD in Machine Learning with 10+ years of experience', 'https://linkedin.com/in/sarah', 'https://twitter.com/sarah', 1],
      ['en', 'Prof. John Davis', 'Senior Data Scientist', 'Expert in Python and data analysis', 'https://linkedin.com/in/john', 'https://twitter.com/john', 2],
      ['en', 'Emma Wilson', 'Web Development Expert', 'Full-stack developer and educator', 'https://linkedin.com/in/emma', 'https://twitter.com/emma', 3],
      // Russian  
      ['ru', '–î—Ä. –°–∞—Ä–∞ –°–º–∏—Ç', '–í–µ–¥—É—â–∏–π –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ –ò–ò', 'PhD –≤ –æ–±–ª–∞—Å—Ç–∏ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è —Å 10+ –ª–µ—Ç–Ω–∏–º –æ–ø—ã—Ç–æ–º', 'https://linkedin.com/in/sarah', 'https://twitter.com/sarah', 1],
      ['ru', '–ü—Ä–æ—Ñ. –î–∂–æ–Ω –î—ç–≤–∏—Å', '–°—Ç–∞—Ä—à–∏–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –¥–∞–Ω–Ω—ã–º', '–≠–∫—Å–ø–µ—Ä—Ç –ø–æ Python –∏ –∞–Ω–∞–ª–∏–∑—É –¥–∞–Ω–Ω—ã—Ö', 'https://linkedin.com/in/john', 'https://twitter.com/john', 2],
      ['ru', '–≠–º–º–∞ –£–∏–ª—Å–æ–Ω', '–≠–∫—Å–ø–µ—Ä—Ç –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏', 'Full-stack —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å', 'https://linkedin.com/in/emma', 'https://twitter.com/emma', 3],
      // Hebrew
      ['he', '◊ì◊¥◊® ◊©◊®◊î ◊°◊û◊ô◊™', '◊û◊ì◊®◊ô◊õ◊î ◊®◊ê◊©◊ô◊™ ◊ë-AI', '◊ì◊ï◊ß◊ò◊ï◊® ◊ë◊ú◊û◊ô◊ì◊™ ◊û◊õ◊ï◊†◊î ◊¢◊ù 10+ ◊©◊†◊ï◊™ ◊†◊ô◊°◊ô◊ï◊ü', 'https://linkedin.com/in/sarah', 'https://twitter.com/sarah', 1],
      ['he', '◊§◊®◊ï◊§◊≥ ◊í◊≥◊ï◊ü ◊ì◊ô◊ô◊ï◊ï◊ô◊°', '◊û◊ì◊¢◊ü ◊†◊™◊ï◊†◊ô◊ù ◊ë◊õ◊ô◊®', '◊û◊ï◊û◊ó◊î ◊ë-Python ◊ï◊†◊ô◊™◊ï◊ó ◊†◊™◊ï◊†◊ô◊ù', 'https://linkedin.com/in/john', 'https://twitter.com/john', 2],
      ['he', '◊ê◊û◊î ◊ï◊ï◊ô◊ú◊°◊ï◊ü', '◊û◊ï◊û◊ó◊ô◊™ ◊§◊ô◊™◊ï◊ó ◊ê◊™◊®◊ô◊ù', '◊û◊§◊™◊ó◊™ Full-stack ◊ï◊û◊ó◊†◊õ◊™', 'https://linkedin.com/in/emma', 'https://twitter.com/emma', 3]
    ];

    for (const [locale, name, role, bio, linkedin, twitter, order] of allTeachers) {
      await client.query(`
        INSERT INTO teachers (locale, name, role, bio, linkedin, twitter, "order", published_at, created_at, updated_at)
        VALUES ($1, $2, $3, $4, $5, $6, $7, NOW(), NOW(), NOW())
        ON CONFLICT DO NOTHING
      `, [locale, name, role, bio, linkedin, twitter, order]);
    }

    // 7. Insert blog posts for all languages
    console.log('üì∞ Creating sample blog posts...');
    const allBlogPosts = [
      // English
      ['en', 'Getting Started with AI', 'getting-started-ai', 'A comprehensive guide for beginners', 'Learn the basics of artificial intelligence...', 'AI Studio Team', 'Technology'],
      ['en', 'Top 10 Python Libraries', 'top-python-libraries', 'Essential tools for data science', 'Discover the most important Python libraries...', 'Dr. Smith', 'Programming'],
      ['en', 'Future of Machine Learning', 'future-of-ml', 'Trends and predictions for 2025', 'Explore what the future holds for ML...', 'Prof. Johnson', 'AI & ML'],
      // Russian
      ['ru', '–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã —Å –ò–ò', 'nachalo-raboty-s-ii', '–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö', '–ò–∑—É—á–∏—Ç–µ –æ—Å–Ω–æ–≤—ã –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞...', '–ö–æ–º–∞–Ω–¥–∞ AI Studio', '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏'],
      ['ru', '–¢–æ–ø 10 –±–∏–±–ª–∏–æ—Ç–µ–∫ Python', 'top-10-bibliotek-python', '–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è data science', '–û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞–∂–Ω–µ–π—à–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Python...', '–î—Ä. –°–º–∏—Ç', '–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ'],
      ['ru', '–ë—É–¥—É—â–µ–µ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è', 'budushchee-mashinnogo-obucheniya', '–¢—Ä–µ–Ω–¥—ã –∏ –ø—Ä–æ–≥–Ω–æ–∑—ã –Ω–∞ 2025 –≥–æ–¥', '–ò—Å—Å–ª–µ–¥—É–π—Ç–µ –±—É–¥—É—â–µ–µ –ú–û...', '–ü—Ä–æ—Ñ. –î–∂–æ–Ω—Å–æ–Ω', '–ò–ò –∏ –ú–û'],
      // Hebrew
      ['he', '◊™◊ó◊ô◊ú◊™ ◊î◊¢◊ë◊ï◊ì◊î ◊¢◊ù AI', 'hatchalat-avoda-ai', '◊û◊ì◊®◊ô◊ö ◊û◊ß◊ô◊£ ◊ú◊û◊™◊ó◊ô◊ú◊ô◊ù', '◊ú◊û◊ì◊ï ◊ê◊™ ◊ô◊°◊ï◊ì◊ï◊™ ◊î◊ë◊ô◊†◊î ◊î◊û◊ú◊ê◊õ◊ï◊™◊ô◊™...', '◊¶◊ï◊ï◊™ AI Studio', '◊ò◊õ◊†◊ï◊ú◊ï◊í◊ô◊î'],
      ['he', '◊¢◊©◊®◊™ ◊°◊§◊®◊ô◊ï◊™ Python ◊î◊û◊ï◊ë◊ô◊ú◊ï◊™', 'eseret-sfariot-python', '◊õ◊ú◊ô◊ù ◊ó◊ô◊ï◊†◊ô◊ô◊ù ◊ú◊û◊ì◊¢ ◊î◊†◊™◊ï◊†◊ô◊ù', '◊í◊ú◊ï ◊ê◊™ ◊°◊§◊®◊ô◊ï◊™ Python ◊î◊ó◊©◊ï◊ë◊ï◊™ ◊ë◊ô◊ï◊™◊®...', '◊ì◊¥◊® ◊°◊û◊ô◊™', '◊™◊õ◊†◊ï◊™'],
      ['he', '◊¢◊™◊ô◊ì ◊ú◊û◊ô◊ì◊™ ◊î◊û◊õ◊ï◊†◊î', 'atid-lemidat-hamechona', '◊û◊í◊û◊ï◊™ ◊ï◊™◊ó◊ñ◊ô◊ï◊™ ◊ú-2025', '◊ó◊ß◊®◊ï ◊û◊î ◊î◊¢◊™◊ô◊ì ◊¶◊ï◊§◊ü ◊ú◊ú◊û◊ô◊ì◊™ ◊û◊õ◊ï◊†◊î...', '◊§◊®◊ï◊§◊≥ ◊í◊≥◊ï◊†◊°◊ï◊ü', 'AI ◊ï-ML']
    ];

    for (const [locale, title, slug, excerpt, content, author, category] of allBlogPosts) {
      await client.query(`
        INSERT INTO blog_posts (locale, title, slug, excerpt, content, author, category, published_at, created_at, updated_at)
        VALUES ($1, $2, $3, $4, $5, $6, $7, NOW(), NOW(), NOW())
        ON CONFLICT DO NOTHING
      `, [locale, title, slug, excerpt, content, author, category]);
    }

    // 8. Create indexes for better performance
    console.log('üîç Creating locale indexes...');
    const indexQueries = [
      'CREATE INDEX IF NOT EXISTS idx_home_pages_locale ON home_pages(locale)',
      'CREATE INDEX IF NOT EXISTS idx_courses_locale ON courses(locale)',
      'CREATE INDEX IF NOT EXISTS idx_blog_posts_locale ON blog_posts(locale)',
      'CREATE INDEX IF NOT EXISTS idx_teachers_locale ON teachers(locale)',
      'CREATE INDEX IF NOT EXISTS idx_contact_pages_locale ON contact_pages(locale)'
    ];

    for (const query of indexQueries) {
      await client.query(query);
    }

    // 9. Verify seeding
    console.log('üîç Verifying multi-language data...');
    const verifyQueries = [
      'SELECT locale, COUNT(*) as count FROM home_pages GROUP BY locale ORDER BY locale',
      'SELECT locale, COUNT(*) as count FROM courses GROUP BY locale ORDER BY locale',
      'SELECT locale, COUNT(*) as count FROM contact_pages GROUP BY locale ORDER BY locale',
      'SELECT locale, COUNT(*) as count FROM teachers GROUP BY locale ORDER BY locale',
      'SELECT locale, COUNT(*) as count FROM blog_posts GROUP BY locale ORDER BY locale'
    ];

    for (const query of verifyQueries) {
      const result = await client.query(query);
      console.log(`üìä ${query.split(' FROM ')[1].split(' GROUP')[0]}:`, result.rows);
    }

    console.log('‚úÖ Multi-language database seeded successfully!');
    console.log('üåç Available locales: English (en), Russian (ru), Hebrew (he)');
    
  } catch (error) {
    console.error('‚ùå Seeding error:', error);
    throw error;
  } finally {
    await client.end();
  }
}

// Run if called directly
if (require.main === module) {
  if (!process.env.DATABASE_URL) {
    console.error('‚ùå DATABASE_URL environment variable is required');
    console.log('Usage: DATABASE_URL=postgresql://... node seed-initial-data.js');
    process.exit(1);
  }
  
  seedDatabase().catch(console.error);
}

module.exports = { seedDatabase };